!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=216)}([function(e,t,n){"use strict";function u(){}n.r(t),n.d(t,"h",function(){return r}),n.d(t,"createElement",function(){return r}),n.d(t,"cloneElement",function(){return o}),n.d(t,"Component",function(){return w}),n.d(t,"render",function(){return S}),n.d(t,"rerender",function(){return f}),n.d(t,"options",function(){return E});var E={},l=[],c=[];function r(e,t){for(var n,r,i,o=c,a=arguments.length;2<a--;)l.push(arguments[a]);for(t&&null!=t.children&&(l.length||l.push(t.children),delete t.children);l.length;)if((r=l.pop())&&void 0!==r.pop)for(a=r.length;a--;)l.push(r[a]);else"boolean"==typeof r&&(r=null),(i="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(i=!1)),i&&n?o[o.length-1]+=r:o===c?o=[r]:o.push(r),n=i;var s=new u;return s.nodeName=e,s.children=o,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==E.vnode&&E.vnode(s),s}function O(e,t){for(var n in t)e[n]=t[n];return e}var i="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function o(e,t){return r(e.nodeName,O(O({},e.attributes),t),2<arguments.length?[].slice.call(arguments,2):e.children)}var p=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,a=[];function s(e){!e._dirty&&(e._dirty=!0)&&1==a.push(e)&&(E.debounceRendering||i)(f)}function f(){var e,t=a;for(a=[];e=t.pop();)e._dirty&&B(e)}function P(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function _(e){var t=O({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function A(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n,r,i){if("className"===t&&(t="class"),"key"!==t)if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||i)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var o in n)o in r||(e.style[o]="");for(var o in r)e.style[o]="number"==typeof r[o]&&!1===p.test(o)?r[o]+"px":r[o]}}else{var a,s;"dangerouslySetInnerHTML"===t?r&&(e.innerHTML=r.__html||""):"o"==t[0]&&"n"==t[1]?(a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,d,a):e.removeEventListener(t,d,a),(e._listeners||(e._listeners={}))[t]=r):"list"!==t&&"type"!==t&&!i&&t in e?(function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t)):(s=i&&t!==(t=t.replace(/^xlink:?/,"")),null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r)))}else e.className=r||""}function d(e){return this._listeners[e.type](E.event&&E.event(e)||e)}var x=[],T=0,v=!1,y=!1;function U(){for(var e;e=x.pop();)E.afterMount&&E.afterMount(e),e.componentDidMount&&e.componentDidMount()}function F(e,t,n,r,i,o){T++||(v=null!=i&&void 0!==i.ownerSVGElement,y=null!=e&&!("__preactattr_"in e));var a=k(e,t,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--T||(y=!1,o||U()),a}function k(e,t,n,r,i){var o=e,a=v;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),C(e,!0))),o.__preactattr_=!0,o;var s,u,l=t.nodeName;if("function"==typeof l)return function(e,t,n,r){var i=e&&e._component,o=i,a=e,s=i&&e._componentConstructor===t.nodeName,u=s,l=_(t);for(;i&&!u&&(i=i._parentComponent);)u=i.constructor===t.nodeName;i&&u&&(!r||i._component)?(I(i,l,3,n,r),e=i.base):(o&&!s&&(D(o),e=a=null),i=R(t.nodeName,l,n),e&&!i.nextBase&&(i.nextBase=e,a=null),I(i,l,1,n,r),e=i.base,a&&e!==a&&(a._component=null,C(a,!1)));return e}(e,t,n,r);if(v="svg"===l||"foreignObject"!==l&&v,l=String(l),(!e||!P(e,l))&&(s=l,(u=v?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,o=u,e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),C(e,!0)}var c=o.firstChild,p=o.__preactattr_,f=t.children;if(null==p){p=o.__preactattr_={};for(var d=o.attributes,h=d.length;h--;)p[d[h].name]=d[h].value}return!y&&f&&1===f.length&&"string"==typeof f[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=f[0]&&(c.nodeValue=f[0]):(f&&f.length||null!=c)&&function(e,t,n,r,i){var o,a,s,u,l,c=e.childNodes,p=[],f={},d=0,h=0,g=c.length,v=0,y=t?t.length:0;if(0!==g)for(var m=0;m<g;m++){var b=c[m],w=b.__preactattr_;null!=(S=y&&w?b._component?b._component.__key:w.key:null)?(d++,f[S]=b):(w||(void 0!==b.splitText?!i||b.nodeValue.trim():i))&&(p[v++]=b)}if(0!==y)for(var S,m=0;m<y;m++){if(u=t[m],(l=null)!=(S=u.key))d&&void 0!==f[S]&&(l=f[S],f[S]=void 0,d--);else if(!l&&h<v)for(o=h;o<v;o++)if(void 0!==p[o]&&function(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&P(e,t.nodeName):n||e._componentConstructor===t.nodeName}(a=p[o],u,i)){l=a,p[o]=void 0,o===v-1&&v--,o===h&&h++;break}l=k(l,u,n,r),s=c[m],l&&l!==e&&l!==s&&(null==s?e.appendChild(l):l===s.nextSibling?A(s):e.insertBefore(l,s))}if(d)for(var m in f)void 0!==f[m]&&C(f[m],!1);for(;h<=v;)void 0!==(l=p[v--])&&C(l,!1)}(o,f,n,r,y||null!=p.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||g(e,r,n[r],n[r]=void 0,v);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||g(e,r,n[r],n[r]=t[r],v)}(o,t.attributes,p),v=a,o}function C(e,t){var n=e._component;n?D(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||A(e),h(e))}function h(e){for(e=e.lastChild;e;){var t=e.previousSibling;C(e,!0),e=t}}var m={};function R(e,t,n){var r,i=m[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),w.call(r,t,n)):((r=new w(t,n)).constructor=e,r.render=b),i)for(var o=i.length;o--;)if(i[o].constructor===e){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function b(e,t,n){return this.constructor(e,n)}function I(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===E.syncComponentUpdates&&e.base?s(e):B(e,1,i)),e.__ref&&e.__ref(e))}function B(e,t,n,r){if(!e._disable){var i,o,a=e.props,s=e.state,u=e.context,l=e.prevProps||a,c=e.prevState||s,p=e.prevContext||u,f=e.base,d=e.nextBase,h=f||d,g=e._component,v=!1;if(f&&(e.props=l,e.state=c,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(a,s,u)?v=!0:e.componentWillUpdate&&e.componentWillUpdate(a,s,u),e.props=a,e.state=s,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!v){i=e.render(a,s,u),e.getChildContext&&(u=O(O({},u),e.getChildContext()));var y,m,b,w,S,P=i&&i.nodeName;if("function"==typeof P?(b=_(i),(w=g)&&w.constructor===P&&b.key==w.__key?I(w,b,1,u,!1):(y=w,e._component=w=R(P,b,u),w.nextBase=w.nextBase||d,w._parentComponent=e,I(w,b,0,u,!1),B(w,1,n,!0)),m=w.base):(o=h,(y=g)&&(o=e._component=null),!h&&1!==t||(o&&(o._component=null),m=F(o,i,u,n||!f,h&&h.parentNode,!0))),!h||m===h||w===g||(S=h.parentNode)&&m!==S&&(S.replaceChild(m,h),y||(h._component=null,C(h,!1))),y&&D(y),(e.base=m)&&!r){for(var A=e,k=e;k=k._parentComponent;)(A=k).base=m;m._component=A,m._componentConstructor=A.constructor}}if(!f||n?x.unshift(e):v||(e.componentDidUpdate&&e.componentDidUpdate(l,c,p),E.afterUpdate&&E.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);T||r||U()}}function D(e){E.beforeUnmount&&E.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n,r,i=e._component;i?D(i):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),A(e.nextBase=t),r=(n=e).constructor.name,(m[r]||(m[r]=[])).push(n),h(t)),e.__ref&&e.__ref(null)}function w(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function S(e,t,n){return F(n,e,{},!1,t,!1)}O(w.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=O({},n)),O(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),s(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),B(this,2)},render:function(){}});var L={h:r,createElement:r,cloneElement:o,Component:w,render:S,rerender:f,options:E};t.default=L},function(e,t,n){var r=n(2),i=n(37),o=n(4),a=n(38),s=n(43),u=n(67),l=i("wks"),c=r.Symbol,p=u?c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(s&&o(c,e)?l[e]=c[e]:l[e]=p("Symbol."+e)),l[e]}},function(n,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,t(14))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(3);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(6),i=n(59),o=n(5),a=n(27),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(6),i=n(8),o=n(15);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var s=n(2),u=n(9),l=n(4),c=n(36),r=n(61),i=n(16),o=i.get,p=i.enforce,f=String(String).split("String");(e.exports=function(e,t,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||l(n,"name")||u(n,"name",t),p(n).source=f.join("string"==typeof t?t:"")),e!==s?(i?!a&&e[t]&&(o=!0):delete e[t],o?e[t]=n:u(e,t,n)):o?e[t]=n:c(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&o(this).source||r(this)})},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&e.push(i)}else if("object"==r)for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var c=n(2),p=n(33).f,f=n(9),d=n(10),h=n(36),g=n(63),v=n(104);e.exports=function(e,t){var n,r,i,o,a=e.target,s=e.global,u=e.stat,l=s?c:u?c[a]||h(a,{}):(c[a]||{}).prototype;if(l)for(n in t){if(i=t[n],r=e.noTargetGet?(o=p(l,n))&&o.value:l[n],!v(s?n:a+(u?".":"#")+n,e.forced)&&void 0!==r){if(typeof i==typeof r)continue;g(i,r)}(e.sham||r&&r.sham)&&f(i,"sham",!0),d(l,n,i,e)}}},function(e,t,n){var r=n(35),i=n(20);e.exports=function(e){return r(i(e))}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r,i,o,a,s,u,l,c,p=n(101),f=n(2),d=n(7),h=n(9),g=n(4),v=n(28),y=n(29),m=f.WeakMap;l=p?(r=new m,i=r.get,o=r.has,a=r.set,s=function(e,t){return a.call(r,e,t),t},u=function(e){return i.call(r,e)||{}},function(e){return o.call(r,e)}):(y[c=v("state")]=!0,s=function(e,t){return h(e,c,t),t},u=function(e){return g(e,c)?e[c]:{}},function(e){return g(e,c)}),e.exports={set:s,get:u,has:l,enforce:function(e){return l(e)?u(e):s(e,{})},getterFor:function(n){return function(e){var t;if(!d(e)||(t=u(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},function(e,t,n){var r=n(40),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){var r="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return a(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)})(e)}function a(e,t,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(26),c=n(86),p=n(54),f=n(55),h=n(56),g=n(141),v=n(143),y=n(144),m=n(88),b=n(146),w=n(147),r=n(148),S=r.justErrorsLogger,P=r.debugLogger,A=n(150),k=function(i){var e,t;function n(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))||this).isRestriction=!0,e}return t=i,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,n}(i(Error)),E=function(){function e(e){var r=this,t={id:"uppy",autoProceed:!(this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize2:"%{backwardsCompat} %{size}",exceedsSize:"This file exceeds maximum allowed size of",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noNewAlreadyUploading:"Cannot add new files: already uploading",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},selectAllFilesFromFolderNamed:"Select all files from folder %{name}",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",selectFileNamed:"Select file %{name}",unselectFileNamed:"Unselect file %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}}),allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(e){return e},onBeforeUpload:function(e){return e},store:v(),logger:S,infoTimeout:5e3};if(this.opts=d({},t,e,{restrictions:d({},t.restrictions,e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=P),this.log("Using Core v"+this.constructor.VERSION),this.opts.restrictions.allowedFileTypes&&null!==this.opts.restrictions.allowedFileTypes&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this.validateRestrictions=this.validateRestrictions.bind(this),this._calculateProgress=f(this._calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=c(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:w(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:d({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(e,t,n){r.emit("state-update",e,t,n),r.updateAll(t)}),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),this._addListeners()}var t,n,r,i=e.prototype;return i.on=function(e,t){return this.emitter.on(e,t),this},i.off=function(e,t){return this.emitter.off(e,t),this},i.updateAll=function(t){this.iteratePlugins(function(e){e.update(t)})},i.setState=function(e){this.store.setState(e)},i.getState=function(){return this.store.getState()},i.setFileState=function(e,t){var n;if(!this.getState().files[e])throw new Error("Can’t set state for "+e+" (the file could have been removed)");this.setState({files:d({},this.getState().files,((n={})[e]=d({},this.getState().files[e],t),n))})},i.i18nInit=function(){this.translator=new l([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator)},i.setOptions=function(e){this.opts=d({},this.opts,e,{restrictions:d({},this.opts.restrictions,e&&e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(function(e){e.setOptions()}),this.setState()},i.resetProgress=function(){var n={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},r=d({},this.getState().files),i={};Object.keys(r).forEach(function(e){var t=d({},r[e]);t.progress=d({},t.progress,n),i[e]=t}),this.setState({files:i,totalProgress:0}),this.emit("reset-progress")},i.addPreProcessor=function(e){this.preProcessors.push(e)},i.removePreProcessor=function(e){var t=this.preProcessors.indexOf(e);-1!==t&&this.preProcessors.splice(t,1)},i.addPostProcessor=function(e){this.postProcessors.push(e)},i.removePostProcessor=function(e){var t=this.postProcessors.indexOf(e);-1!==t&&this.postProcessors.splice(t,1)},i.addUploader=function(e){this.uploaders.push(e)},i.removeUploader=function(e){var t=this.uploaders.indexOf(e);-1!==t&&this.uploaders.splice(t,1)},i.setMeta=function(t){var e=d({},this.getState().meta,t),n=d({},this.getState().files);Object.keys(n).forEach(function(e){n[e]=d({},n[e],{meta:d({},n[e].meta,t)})}),this.log("Adding metadata:"),this.log(t),this.setState({meta:e,files:n})},i.setFileMeta=function(e,t){var n,r=d({},this.getState().files);r[e]?(n=d({},r[e].meta,t),r[e]=d({},r[e],{meta:n}),this.setState({files:r})):this.log("Was trying to set metadata for a file that has been removed: ",e)},i.getFile=function(e){return this.getState().files[e]},i.getFiles=function(){var t=this.getState().files;return Object.keys(t).map(function(e){return t[e]})},i.validateRestrictions=function(e,t){try{return this._checkRestrictions(e,t),{result:!0}}catch(e){return{result:!1,reason:e.message}}},i._checkRestrictions=function(t,e){void 0===e&&(e=this.getFiles());var n=this.opts.restrictions,r=n.maxFileSize,i=n.minFileSize,o=n.maxTotalFileSize,a=n.maxNumberOfFiles,s=n.allowedFileTypes;if(a&&e.length+1>a)throw new k(""+this.i18n("youCanOnlyUploadX",{smart_count:a}));if(s&&!s.some(function(e){return-1<e.indexOf("/")?!!t.type&&g(t.type.replace(/;.*?$/,""),e):!("."!==e[0]||!t.extension)&&t.extension.toLowerCase()===e.substr(1).toLowerCase()})){var u=s.join(", ");throw new k(this.i18n("youCanOnlyUploadFileTypes",{types:u}))}if(o&&null!=t.size){var l=0;if(l+=t.size,e.forEach(function(e){l+=e.size}),o<l)throw new k(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:h(o)}))}if(r&&null!=t.size&&t.size>r)throw new k(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:h(r)}));if(i&&null!=t.size&&t.size<i)throw new k(this.i18n("inferiorSize",{size:h(i)}))},i._checkMinNumberOfFiles=function(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new k(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))},i._showOrLogErrorAndThrow=function(e,t){var n=void 0===t?{}:t,r=n.showInformer,i=void 0===r||r,o=n.file,a=void 0===o?null:o,s=n.throwErr,u=void 0===s||s,l="object"==typeof e?e.message:e,c="object"==typeof e&&e.details?e.details:"",p=l;if(c&&(p+=" "+c),e.isRestriction?(this.log(p),this.emit("restriction-failed",a,e)):this.log(p,"error"),i&&this.info({message:l,details:c},"error",this.opts.infoTimeout),u)throw"object"==typeof e?e:new Error(e)},i._assertNewUploadAllowed=function(e){!1===this.getState().allowNewUpload&&this._showOrLogErrorAndThrow(new k(this.i18n("noNewAlreadyUploading")),{file:e})},i._checkAndCreateFileStateObject=function(t,e){var n=y(e);e.type=n;var r,i=this.opts.onBeforeFileAdded(e,t);!1===i&&this._showOrLogErrorAndThrow(new k("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,file:e}),"object"==typeof i&&i&&(e=i),r=e.name?e.name:"image"===n.split("/")[0]?n.split("/")[0]+"."+n.split("/")[1]:"noname";var o=m(r).extension,a=e.isRemote||!1,s=b(e);t[s]&&this._showOrLogErrorAndThrow(new k(this.i18n("noDuplicates",{fileName:r})),{file:e});var u=e.meta||{};u.name=r,u.type=n;var l=isFinite(e.data.size)?e.data.size:null,c={source:e.source||"",id:s,name:r,extension:o||"",meta:d({},this.getState().meta,u),type:n,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:a,remote:e.remote||"",preview:e.preview};try{var p=Object.keys(t).map(function(e){return t[e]});this._checkRestrictions(c,p)}catch(e){this._showOrLogErrorAndThrow(e,{file:c})}return c},i._startIfAutoProceed=function(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(e){e.isRestriction||t.log(e.stack||e.message||e)})},4))},i.addFile=function(e){var t;this._assertNewUploadAllowed(e);var n=this.getState().files,r=this._checkAndCreateFileStateObject(n,e);return this.setState({files:d({},n,((t={})[r.id]=r,t))}),this.emit("file-added",r),this.emit("files-added",[r]),this.log("Added file: "+r.name+", "+r.id+", mime type: "+r.type),this._startIfAutoProceed(),r.id},i.addFiles=function(e){var t=this;this._assertNewUploadAllowed();for(var n=d({},this.getState().files),r=[],i=[],o=0;o<e.length;o++)try{var a=this._checkAndCreateFileStateObject(n,e[o]);r.push(a),n[a.id]=a}catch(u){u.isRestriction||i.push(u)}if(this.setState({files:n}),r.forEach(function(e){t.emit("file-added",e)}),this.emit("files-added",r),5<r.length?this.log("Added batch of "+r.length+" files"):Object.keys(r).forEach(function(e){t.log("Added file: "+r[e].name+"\n id: "+r[e].id+"\n type: "+r[e].type)}),0<r.length&&this._startIfAutoProceed(),0<i.length){var s="Multiple errors occurred while adding files:\n";i.forEach(function(e){s+="\n * "+e.message}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:i.length}),details:s},"error",this.opts.infoTimeout);var u=new Error(s);throw u.errors=i,u}},i.removeFiles=function(e,t){var n=this,r=this.getState(),i=r.files,o=r.currentUploads,a=d({},i),s=d({},o),u=Object.create(null);function l(e){return void 0===u[e]}e.forEach(function(e){i[e]&&(u[e]=i[e],delete a[e])});var c=[];Object.keys(s).forEach(function(e){var t=o[e].fileIDs.filter(l);0!==t.length?s[e]=d({},o[e],{fileIDs:t}):c.push(e)}),c.forEach(function(e){delete s[e]});var p={currentUploads:s,files:a};0===Object.keys(a).length&&(p.allowNewUpload=!0,p.error=null),this.setState(p),this._calculateTotalProgress();var f=Object.keys(u);f.forEach(function(e){n.emit("file-removed",u[e],t)}),5<f.length?this.log("Removed "+f.length+" files"):this.log("Removed files: "+f.join(", "))},i.removeFile=function(e,t){void 0===t&&(t=null),this.removeFiles([e],t)},i.pauseResume=function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}},i.pauseAll=function(){var n=d({},this.getState().files);Object.keys(n).filter(function(e){return!n[e].progress.uploadComplete&&n[e].progress.uploadStarted}).forEach(function(e){var t=d({},n[e],{isPaused:!0});n[e]=t}),this.setState({files:n}),this.emit("pause-all")},i.resumeAll=function(){var n=d({},this.getState().files);Object.keys(n).filter(function(e){return!n[e].progress.uploadComplete&&n[e].progress.uploadStarted}).forEach(function(e){var t=d({},n[e],{isPaused:!1,error:null});n[e]=t}),this.setState({files:n}),this.emit("resume-all")},i.retryAll=function(){var n=d({},this.getState().files),e=Object.keys(n).filter(function(e){return n[e].error});if(e.forEach(function(e){var t=d({},n[e],{isPaused:!1,error:null});n[e]=t}),this.setState({files:n,error:null}),this.emit("retry-all",e),0===e.length)return Promise.resolve({successful:[],failed:[]});var t=this._createUpload(e,{forceAllowNewUpload:!0});return this._runUpload(t)},i.cancelAll=function(){this.emit("cancel-all");var e=this.getState().files,t=Object.keys(e);t.length&&this.removeFiles(t,"cancel-all"),this.setState({totalProgress:0,error:null})},i.retryUpload=function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=this._createUpload([e],{forceAllowNewUpload:!0});return this._runUpload(t)},i.reset=function(){this.cancelAll()},i._calculateProgress=function(e,t){var n;this.getFile(e.id)?(n=isFinite(t.bytesTotal)&&0<t.bytesTotal,this.setFileState(e.id,{progress:d({},this.getFile(e.id).progress,{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:n?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),this._calculateTotalProgress()):this.log("Not setting progress for a file that has been removed: "+e.id)},i._calculateTotalProgress=function(){var e=this.getFiles().filter(function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess});if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t,n,r,i,o,a,s,u=e.filter(function(e){return null!=e.progress.bytesTotal}),l=e.filter(function(e){return null==e.progress.bytesTotal});0!==u.length?(t=u.reduce(function(e,t){return e+t.progress.bytesTotal},0),t+=(n=t/u.length)*l.length,r=0,u.forEach(function(e){r+=e.progress.bytesUploaded}),l.forEach(function(e){r+=n*(e.progress.percentage||0)/100}),100<(i=0===t?0:Math.round(r/t*100))&&(i=100),this.setState({totalProgress:i}),this.emit("progress",i)):(o=100*e.length,a=l.reduce(function(e,t){return e+t.progress.percentage},0),s=Math.round(a/o*100),this.setState({totalProgress:s}))},i._addListeners=function(){var o=this;this.on("error",function(e){var t="Unknown error";e.message&&(t=e.message),e.details&&(t+=" "+e.details),o.setState({error:t})}),this.on("upload-error",function(e,t,n){var r,i="Unknown error";t.message&&(i=t.message),t.details&&(i+=" "+t.details),o.setFileState(e.id,{error:i,response:n}),o.setState({error:t.message}),"object"==typeof t&&t.message?((r=new Error(t.message)).details=t.message,t.details&&(r.details+=" "+t.details),r.message=o.i18n("failedToUpload",{file:e.name}),o._showOrLogErrorAndThrow(r,{throwErr:!1})):o._showOrLogErrorAndThrow(t,{throwErr:!1})}),this.on("upload",function(){o.setState({error:null})}),this.on("upload-started",function(e,t){o.getFile(e.id)?o.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):o.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(e,t){var n;o.getFile(e.id)?(n=o.getFile(e.id).progress,o.setFileState(e.id,{progress:d({},n,{postprocess:0<o.postProcessors.length?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:n.bytesTotal}),response:t,uploadURL:t.uploadURL,isPaused:!1}),o._calculateTotalProgress()):o.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("preprocess-progress",function(e,t){o.getFile(e.id)?o.setFileState(e.id,{progress:d({},o.getFile(e.id).progress,{preprocess:t})}):o.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("preprocess-complete",function(e){var t;o.getFile(e.id)?((t=d({},o.getState().files))[e.id]=d({},t[e.id],{progress:d({},t[e.id].progress)}),delete t[e.id].progress.preprocess,o.setState({files:t})):o.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("postprocess-progress",function(e,t){o.getFile(e.id)?o.setFileState(e.id,{progress:d({},o.getState().files[e.id].progress,{postprocess:t})}):o.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("postprocess-complete",function(e){var t;o.getFile(e.id)?((t=d({},o.getState().files))[e.id]=d({},t[e.id],{progress:d({},t[e.id].progress)}),delete t[e.id].progress.postprocess,o.setState({files:t})):o.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("restored",function(){o._calculateTotalProgress()}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",function(){return o.updateOnlineStatus()}),window.addEventListener("offline",function(){return o.updateOnlineStatus()}),setTimeout(function(){return o.updateOnlineStatus()},3e3))},i.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},i.getID=function(){return this.opts.id},i.use=function(e,t){if("function"!=typeof e)throw new TypeError("Expected a plugin class, but got "+(null===e?"null":typeof e)+". Please verify that the plugin was imported and spelled correctly.");var n=new e(this,t),r=n.id;if(this.plugins[n.type]=this.plugins[n.type]||[],!r)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");var i=this.getPlugin(r);if(i){var o="Already found a plugin named '"+i.id+"'. Tried to use: '"+r+"'.\nUppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(o)}return e.VERSION&&this.log("Using "+r+" v"+e.VERSION),this.plugins[n.type].push(n),n.install(),this},i.getPlugin=function(t){var n=null;return this.iteratePlugins(function(e){if(e.id===t)return n=e,!1}),n},i.iteratePlugins=function(t){var n=this;Object.keys(this.plugins).forEach(function(e){n.plugins[e].forEach(t)})},i.removePlugin=function(e){this.log("Removing plugin "+e.id),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=this.plugins[e.type].slice(),n=t.indexOf(e);-1!==n&&(t.splice(n,1),this.plugins[e.type]=t);var r=this.getState();delete r.plugins[e.id],this.setState(r)},i.close=function(){var t=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(e){t.removePlugin(e)})},i.info=function(e,t,n){void 0===t&&(t="info"),void 0===n&&(n=3e3);var r="object"==typeof e;this.setState({info:{isHidden:!1,type:t,message:r?e.message:e,details:r?e.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==n?setTimeout(this.hideInfo,n):void 0},i.hideInfo=function(){var e=d({},this.getState().info,{isHidden:!0});this.setState({info:e}),this.emit("info-hidden")},i.log=function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}},i.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},i.restore=function(e){return this.log('Core: attempting to restore upload "'+e+'"'),this.getState().currentUploads[e]?this._runUpload(e):(this._removeUpload(e),Promise.reject(new Error("Nonexistent upload")))},i._createUpload=function(e,t){var n;void 0===t&&(t={});var r=t.forceAllowNewUpload,i=void 0!==r&&r,o=this.getState(),a=o.allowNewUpload,s=o.currentUploads;if(!a&&!i)throw new Error("Cannot create a new upload: already uploading.");var u=p();return this.emit("upload",{id:u,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploads,currentUploads:d({},s,((n={})[u]={fileIDs:e,step:0,result:{}},n))}),u},i._getUpload=function(e){return this.getState().currentUploads[e]},i.addResultData=function(e,t){var n,r,i;this._getUpload(e)?(i=d({},(r=this.getState().currentUploads)[e],{result:d({},r[e].result,t)}),this.setState({currentUploads:d({},r,((n={})[e]=i,n))})):this.log("Not setting result for an upload that has been removed: "+e)},i._removeUpload=function(e){var t=d({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})},i._runUpload=function(a){var s=this,e=this.getState().currentUploads[a].step,t=[].concat(this.preProcessors,this.uploaders,this.postProcessors),n=Promise.resolve();return t.forEach(function(i,o){o<e||(n=n.then(function(){var e,t=s.getState().currentUploads,n=t[a];if(n){var r=d({},n,{step:o});return s.setState({currentUploads:d({},t,((e={})[a]=r,e))}),i(r.fileIDs,a)}}).then(function(e){return null}))}),n.catch(function(e){s.emit("error",e,a),s._removeUpload(a)}),n.then(function(){var e,t,n,r=s.getState().currentUploads[a];r&&(t=(e=r.fileIDs.map(function(e){return s.getFile(e)})).filter(function(e){return!e.error}),n=e.filter(function(e){return e.error}),s.addResultData(a,{successful:t,failed:n,uploadID:a}))}).then(function(){var e=s.getState().currentUploads;if(e[a]){var t=e[a].result;return s.emit("complete",t),s._removeUpload(a),t}}).then(function(e){return null==e&&s.log("Not setting result for an upload that has been removed: "+a),e})},i.upload=function(){var o=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var t=this.getState().files,e=this.opts.onBeforeUpload(t);return!1===e?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(e&&"object"==typeof e&&(t=e,this.setState({files:t})),Promise.resolve().then(function(){return o._checkMinNumberOfFiles(t)}).catch(function(e){o._showOrLogErrorAndThrow(e)}).then(function(){var n=o.getState().currentUploads,r=Object.keys(n).reduce(function(e,t){return e.concat(n[t].fileIDs)},[]),i=[];Object.keys(t).forEach(function(e){var t=o.getFile(e);t.progress.uploadStarted||-1!==r.indexOf(e)||i.push(t.id)});var e=o._createUpload(i);return o._runUpload(e)}).catch(function(e){o._showOrLogErrorAndThrow(e,{showInformer:!1})}))},t=e,(n=[{key:"state",get:function(){return this.getState()}}])&&o(t.prototype,n),r&&o(t,r),e}();E.VERSION="1.15.0",e.exports=function(e){return new E(e)},e.exports.Uppy=E,e.exports.Plugin=A,e.exports.debugLogger=P},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=!1},function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var i=n(64),o=n(2);e.exports=function(e,t){return arguments.length<2?r(i[e])||r(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(8).f,i=n(4),o=n(1)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=n(138);e.exports=function(){function e(e){var t=this;this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(e)?e.forEach(function(e){return t._apply(e)}):this._apply(e)}var t=e.prototype;return t._apply=function(e){var t;e&&e.strings&&(t=this.locale,this.locale=r({},t,{strings:r({},t.strings,e.strings)}),this.locale.pluralize=e.pluralize||t.pluralize)}
/**
   * Takes a string with placeholder variables like `%{smart_count} file selected`
   * and replaces it with values from options `{smart_count: 5}`
   *
   * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
   * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
   *
   * @param {string} phrase that needs interpolation, with placeholders
   * @param {object} options with values that will be used to replace placeholders
   * @returns {string} interpolated
   */,t.interpolate=function(e,t){var n,r=String.prototype,o=r.split,i=r.replace,a=/\$/g,s=[e];for(var u in t){"_"!==u&&l(t,u)&&("string"==typeof(n=t[u])&&(n=i.call(t[u],a,"$$$$")),s=function(e,t,r){var i=[];return e.forEach(function(e){return"string"!=typeof e?i.push(e):void o.call(e,t).forEach(function(e,t,n){""!==e&&i.push(e),t<n.length-1&&i.push(r)})}),i}(s,new RegExp("%\\{"+u+"\\}","g"),n))}return s},t.translate=function(e,t){return this.translateArray(e,t).join("")},t.translateArray=function(e,t){if(!l(this.locale.strings,e))throw new Error("missing string: "+e);var n=this.locale.strings[e];if("object"!=typeof n)return this.interpolate(n,t);if(t&&void 0!==t.smart_count){var r=this.locale.pluralize(t.smart_count);return this.interpolate(n[r],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")},e}()},function(e,t,n){var i=n(7);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(37),i=n(38),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t,n){function r(){}function i(e){return"<script>"+e+"</"+h+">"}var o,a=n(5),s=n(68),u=n(41),l=n(29),c=n(105),p=n(60),f=n(28),d="prototype",h="script",g=f("IE_PROTO"),v=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;v=o?function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):((t=p("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var n=u.length;n--;)delete v[d][u[n]];return v()};l[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r[d]=a(e),n=new r,r[d]=null,n[g]=e):n=v(),void 0===t?n:s(n,t)}},function(e,t,n){"use strict";var r,i,p=n(80),o=n(125),f=RegExp.prototype.exec,d=String.prototype.replace,a=f,h=(r=/a/,i=/b*/g,f.call(r,"a"),f.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),g=o.UNSUPPORTED_Y||o.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(h||v||g)&&(a=function(e){var t,n,r,i,o=this,a=g&&o.sticky,s=p.call(o),u=o.source,l=0,c=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),c=String(e).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(u="(?: "+u+")",c=" "+c,l++),n=new RegExp("^(?:"+u+")",s)),v&&(n=new RegExp("^"+u+"$(?!\\s)",s)),h&&(t=o.lastIndex),r=f.call(a?n:o,c),a?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:h&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),v&&r&&1<r.length&&d.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=a},function(e,t){e.exports=function(e){return Array.prototype.slice.call(e||[],0)}},function(e,t,n){var r=n(6),i=n(34),o=n(15),a=n(13),s=n(27),u=n(4),l=n(59),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=a(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(3),i=n(19),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(2),i=n(9);e.exports=function(t,n){try{i(r,t,n)}catch(e){r[t]=n}return n}},function(e,t,n){var r=n(21),i=n(62);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(65),i=n(41).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(3);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){var r=n(19);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(65),i=n(41);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var o=n(71);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 0:return function(){return r.call(i)};case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t,n){var r=n(48),i=n(25),o=n(1)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(49),i=n(19),o=n(1)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r={};r[n(1)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){"use strict";var r=n(13),i=n(114),o=n(25),a=n(16),s=n(75),u="Array Iterator",l=a.set,c=a.getterFor(u);e.exports=s(Array,"Array",function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var r=n(12),i=n(31);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";var i=n(53).charAt,r=n(16),o=n(75),a="String Iterator",s=r.set,u=r.getterFor(a);o(String,"String",function(e){s(this,{type:a,string:String(e),index:0})},function(){var e,t=u(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){function r(s){return function(e,t){var n,r,i=String(l(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}var u=n(40),l=n(20);e.exports={codeAt:r(!1),charAt:r(!0)}},function(e,t,n){var i=n(139),r=n(87),o=n(140),a=0,s=4,u=36,l=Math.pow(u,s);function c(){return r((o()*l<<0).toString(u),s)}function p(){return a=a<l?a:0,++a-1}function f(){return"c"+(new Date).getTime().toString(u)+r(p().toString(u),s)+i()+(c()+c())}f.slug=function(){var e=(new Date).getTime().toString(36),t=p().toString(36).slice(-4),n=i().slice(0,1)+i().slice(-1),r=c().slice(-2);return e.slice(-2)+t+n+r},f.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},f.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return 7<=t&&t<=10},f.fingerprint=i,e.exports=f},function(i,e,t){(function(e){var m="Expected a function",o=NaN,a="[object Symbol]",s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,r=t||n||Function("return this")(),f=Object.prototype.toString,b=Math.max,w=Math.min,S=function(){return r.Date.now()};function d(r,i,e){var o,a,s,u,l,c,p=0,f=!1,d=!1,t=!0;if("function"!=typeof r)throw new TypeError(m);function h(e){var t=o,n=a;return o=a=void 0,p=e,u=r.apply(n,t)}function g(e){var t=e-c;return void 0===c||i<=t||t<0||d&&s<=e-p}function v(){var e,t,n=S();if(g(n))return y(n);l=setTimeout(v,(t=i-((e=n)-c),d?w(t,s-(e-p)):t))}function y(e){return l=void 0,t&&o?h(e):(o=a=void 0,u)}function n(){var e,t=S(),n=g(t);if(o=arguments,a=this,c=t,n){if(void 0===l)return p=e=c,l=setTimeout(v,i),f?h(e):u;if(d)return l=setTimeout(v,i),h(c)}return void 0===l&&(l=setTimeout(v,i)),u}return i=A(i)||0,P(e)&&(f=!!e.leading,d="maxWait"in e,s=d?b(A(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==l&&clearTimeout(l),o=c=a=l=void(p=0)},n.flush=function(){return void 0===l?u:y(S())},n}function P(e){var t=typeof e;return e&&("object"==t||"function"==t)}function A(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||!!(n=t)&&"object"==typeof n&&f.call(t)==a)return o;var t,n,r;if(P(e)&&(e=P(r="function"==typeof e.valueOf?e.valueOf():e)?r+"":r),"string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=l.test(e);return i||c.test(e)?p(e.slice(2),i?2:8):u.test(e)?o:+e}i.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(m);return P(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),d(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,t(14))},function(e,t){e.exports=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,r));var i=n[r];return 10<=e||e%1==0?(t?"-":"")+e.toFixed(0)+" "+i:(t?"-":"")+e.toFixed(1)+" "+i}},function(e,t,n){"use strict";var r,i;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(154),u=n(155);e.exports=(i=r=function(){function e(e,t){this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}var t,n,r,i=e.prototype;return i.headers=function(){var e=this.opts.companionHeaders||this.opts.serverHeaders||{};return Promise.resolve(o({},this.defaultHeaders,e))},i._getPostResponseFunc=function(t){var n=this;return function(e){return t?e:n.onReceiveResponse(e)}},i.onReceiveResponse=function(e){var t,n=this.uppy.getState().companion||{},r=this.opts.companionUrl,i=e.headers;return i.has("i-am")&&i.get("i-am")!==n[r]&&this.uppy.setState({companion:o({},n,((t={})[r]=i.get("i-am"),t))}),e},i._getUrl=function(e){return/^(https?:|)\/\//.test(e)?e:this.hostname+"/"+e},i._json=function(e){if(401===e.status)throw new s;if(e.status<200||300<e.status){var t="Failed request with status: "+e.status+". "+e.statusText;return e.json().then(function(e){throw t=e.message?t+" message: "+e.message:t,t=e.requestId?t+" request-Id: "+e.requestId:t,new Error(t)}).catch(function(){throw new Error(t)})}return e.json()},i.preflight=function(e){var t=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(this._getUrl(e),{method:"OPTIONS"}).then(function(e){return e.headers.has("access-control-allow-headers")&&(t.allowedHeaders=e.headers.get("access-control-allow-headers").split(",").map(function(e){return e.trim().toLowerCase()})),t.preflightDone=!0,t.allowedHeaders.slice()}).catch(function(e){return t.uppy.log("[CompanionClient] unable to make preflight request "+e,"warning"),t.preflightDone=!0,t.allowedHeaders.slice()})},i.preflightAndHeaders=function(e){var r=this;return Promise.all([this.preflight(e),this.headers()]).then(function(e){var t=e[0],n=e[1];return Object.keys(n).forEach(function(e){-1===t.indexOf(e.toLowerCase())&&(r.uppy.log("[CompanionClient] excluding unallowed header "+e),delete n[e])}),n})},i.get=function(t,e){var n=this;return this.preflightAndHeaders(t).then(function(e){return u(n._getUrl(t),{method:"get",headers:e,credentials:"same-origin"})}).then(this._getPostResponseFunc(e)).then(function(e){return n._json(e)}).catch(function(e){return e=e.isAuthError?e:new Error("Could not get "+n._getUrl(t)+". "+e),Promise.reject(e)})},i.post=function(t,n,e){var r=this;return this.preflightAndHeaders(t).then(function(e){return u(r._getUrl(t),{method:"post",headers:e,credentials:"same-origin",body:JSON.stringify(n)})}).then(this._getPostResponseFunc(e)).then(function(e){return r._json(e)}).catch(function(e){return e=e.isAuthError?e:new Error("Could not post "+r._getUrl(t)+". "+e),Promise.reject(e)})},i.delete=function(t,n,e){var r=this;return this.preflightAndHeaders(t).then(function(e){return u(r.hostname+"/"+t,{method:"delete",headers:e,credentials:"same-origin",body:n?JSON.stringify(n):null})}).then(this._getPostResponseFunc(e)).then(function(e){return r._json(e)}).catch(function(e){return e=e.isAuthError?e:new Error("Could not delete "+r._getUrl(t)+". "+e),Promise.reject(e)})},t=e,(n=[{key:"hostname",get:function(){var e=this.uppy.getState().companion,t=this.opts.companionUrl;return(e&&e[t]?e[t]:t).replace(/\/$/,"")}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client="+e.VERSION}}}])&&a(t.prototype,n),r&&a(t,r),e}(),r.VERSION="1.7.0",i)},function(e,t,n){var i=n(0).h;e.exports=function(e){var t={color:"#838999",icon:i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("g",{fill:"#A7AFB7","fill-rule":"nonzero"},i("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),i("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var n=e.split("/")[0],r=e.split("/")[1];if("text"===n)return{color:"#5a5e69",icon:i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69","fill-rule":"nonzero"}))};if("image"===n)return{color:"#686de0",icon:i("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},i("g",{fill:"#686DE0","fill-rule":"evenodd"},i("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z","fill-rule":"nonzero"}),i("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z","fill-rule":"nonzero"}),i("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===n)return{color:"#068dbb",icon:i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF","fill-rule":"nonzero"}))};if("video"===n)return{color:"#19af67",icon:i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67","fill-rule":"nonzero"}))};if("application"===n&&"pdf"===r)return{color:"#e25149",icon:i("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A","fill-rule":"nonzero"}))};return"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:i("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},i("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469","fill-rule":"nonzero"}))}:t}},function(e,t,n){var r=n(6),i=n(3),o=n(60);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(2),i=n(7),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(62),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(2),i=n(36),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},function(e,t,n){var s=n(4),u=n(102),l=n(33),c=n(8);e.exports=function(e,t){for(var n=u(t),r=c.f,i=l.f,o=0;o<n.length;o++){var a=n[o];s(e,a)||r(e,a,i(t,a))}}},function(e,t,n){var r=n(2);e.exports=r},function(e,t,n){var a=n(4),s=n(13),u=n(103).indexOf,l=n(29);e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)!a(l,n)&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var r=n(40),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r=n(43);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(6),a=n(8),s=n(5),u=n(45);e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var r=n(1);t.f=r},function(e,t,n){var r=n(64),i=n(4),o=n(69),a=n(8).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(12),i=n(73);r({target:"Array",stat:!0,forced:!n(113)(function(e){Array.from(e)})},{from:i})},function(e,t,n){"use strict";var v=n(46),y=n(23),m=n(111),b=n(112),w=n(17),S=n(74),P=n(47);e.exports=function(e,t,n){var r,i,o,a,s,u,l=y(e),c="function"==typeof this?this:Array,p=arguments.length,f=1<p?t:void 0,d=void 0!==f,h=P(l),g=0;if(d&&(f=v(f,2<p?n:void 0,2)),null==h||c==Array&&b(h))for(i=new c(r=w(l.length));g<r;g++)u=d?f(l[g],g):l[g],S(i,g,u);else for(s=(a=h.call(l)).next,i=new c;!(o=s.call(a)).done;g++)u=d?m(a,f,[o.value,g],!0):o.value,S(i,g,u);return i.length=g,i}},function(e,t,n){"use strict";var i=n(27),o=n(8),a=n(15);e.exports=function(e,t,n){var r=i(t);r in e?o.f(e,r,a(0,n)):e[r]=n}},function(e,t,n){"use strict";function y(){return this}var m=n(12),b=n(76),w=n(78),S=n(116),P=n(24),A=n(9),k=n(10),r=n(1),E=n(21),O=n(25),i=n(77),_=i.IteratorPrototype,x=i.BUGGY_SAFARI_ITERATORS,T=r("iterator"),U="values",F="entries";e.exports=function(e,t,n,r,i,o,a){b(n,t,r);function s(e){if(e===i&&g)return g;if(!x&&e in d)return d[e];switch(e){case"keys":case U:case F:return function(){return new n(this,e)}}return function(){return new n(this)}}var u,l,c,p=t+" Iterator",f=!1,d=e.prototype,h=d[T]||d["@@iterator"]||i&&d[i],g=!x&&h||s(i),v="Array"==t&&d.entries||h;if(v&&(u=w(v.call(new e)),_!==Object.prototype&&u.next&&(E||w(u)===_||(S?S(u,_):"function"!=typeof u[T]&&A(u,T,y)),P(u,p,!0,!0),E&&(O[p]=y))),i==U&&h&&h.name!==U&&(f=!0,g=function(){return h.call(this)}),E&&!a||d[T]===g||A(d,T,g),O[t]=g,i)if(l={values:s(U),keys:o?g:s("keys"),entries:s(F)},a)for(c in l)!x&&!f&&c in d||k(d,c,l[c]);else m({target:t,proto:!0,forced:x||f},l);return l}},function(e,t,n){"use strict";function i(){return this}var o=n(77).IteratorPrototype,a=n(30),s=n(15),u=n(24),l=n(25);e.exports=function(e,t,n){var r=t+" Iterator";return e.prototype=a(o,{next:s(1,n)}),u(e,r,!1,!0),l[r]=i,e}},function(e,t,n){"use strict";var r,i,o,a=n(78),s=n(9),u=n(4),l=n(1),c=n(21),p=l("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),c||u(r,p)||s(r,p,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(4),i=n(23),o=n(28),a=n(115),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(6),i=n(8).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!r||"name"in o||i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(5);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n(51);var p=n(10),f=n(3),d=n(1),h=n(31),g=n(9),v=d("species"),y=!f(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),m="$0"==="a".replace(/./,"$0"),r=d("replace"),b=!!/./[r]&&""===/./[r]("a","$0"),w=!f(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(n,e,t,r){var o,i,a,s,u=d(n),l=!f(function(){var e={};return e[u]=function(){return 7},7!=""[n](e)}),c=l&&!f(function(){var e=!1,t=/a/;return"split"===n&&((t={constructor:{}}).constructor[v]=function(){return t},t.flags="",t[u]=/./[u]),t.exec=function(){return e=!0,null},t[u](""),!e});l&&c&&("replace"!==n||y&&m&&!b)&&("split"!==n||w)||(o=/./[u],a=(i=t(u,""[n],function(e,t,n,r,i){return t.exec===h?l&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}))[0],s=i[1],p(String.prototype,n,a),p(RegExp.prototype,u,2==e?function(e,t){return s.call(e,this,t)}:function(e){return s.call(e,this)})),r&&g(RegExp.prototype[u],"sham",!0)}},function(e,t,n){"use strict";var r=n(53).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var i=n(19),o=n(31);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){var r=n(3),i=n(1),o=n(21),a=i("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),n=e.searchParams,r="";return e.pathname="c%20d",n.forEach(function(e,t){n.delete("b"),r+=t+e}),o&&!e.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t){e.exports=function(){var r={},u=r._fns={};return r.emit=function(e,t,n,r,i,o,a){var s=function(e){var t=u[e]?u[e]:[],n=e.indexOf(":"),r=-1===n?[e]:[e.substring(0,n),e.substring(n+1)],i=Object.keys(u),o=0,a=i.length;for(;o<a;o++){var s=i[o];if("*"===s&&(t=t.concat(u[s])),2===r.length&&r[0]===s){t=t.concat(u[s]);break}}return t}(e);s.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,s,[t,n,r,i,o,a])},r.on=function(e,t){u[e]||(u[e]=[]),u[e].push(t)},r.once=function(t,n){this.on(t,function e(){n.apply(this,arguments),r.off(t,e)})},r.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,o=r?r.length:0;i<o;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},r}},function(e,t){e.exports=function(e,t){var n="000000000"+e;return n.substr(n.length-t)}},function(e,t){e.exports=function(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&e.nodeType===Node.ELEMENT_NODE}},function(e,t){function n(e){var r="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return i(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)})(e)}function i(e,t,n){return(i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(r){var e,t;function n(e,t){var n;return void 0===t&&(t=null),(n=r.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.\n\nSource error: ["+e+"]")||this).isNetworkError=!0,n.request=t,n}return t=r,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,n}(n(Error));e.exports=r},function(e,t,n){var o=n(58),a=n(0).h;e.exports=function(e){var t=e.file;if(t.preview)return a("img",{class:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var n=o(t.type),r=n.color,i=n.icon;return a("div",{class:"uppy-Dashboard-Item-previewIconWrap"},a("span",{class:"uppy-Dashboard-Item-previewIcon",style:{color:r}},i),a("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},a("rect",{fill:"#FFF",width:"58",height:"76",rx:"3","fill-rule":"evenodd"})))}},function(e,t,n){var r=n(0),p=r.h,i=function(r){var e,t;function n(){for(var c,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(c=r.call.apply(r,[this].concat(t))||this).triggerFileInputClick=function(){c.fileInput.click()},c.triggerFolderInputClick=function(){c.folderInput.click()},c.onFileInputChange=function(e){c.props.handleInputChange(e),e.target.value=null},c.renderHiddenInput=function(e,t){return p("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:1!==c.props.maxNumberOfFiles,onchange:c.onFileInputChange,accept:c.props.allowedFileTypes,ref:t})},c.renderMyDeviceAcquirer=function(){return p("div",{class:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},p("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,"data-uppy-super-focusable":!0,onclick:c.triggerFileInputClick},p("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},p("g",{fill:"none","fill-rule":"evenodd"},p("rect",{width:"32",height:"32",rx:"16",fill:"#2275D7"}),p("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),p("div",{class:"uppy-DashboardTab-name"},c.props.i18n("myDevice"))))},c.renderBrowseButton=function(e,t){var n=c.props.acquirers.length;return p("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-browse",onclick:t,"data-uppy-super-focusable":0===n},e)},c.renderDropPasteBrowseTagline=function(){var e=c.props.acquirers.length,t=c.props.fileManagerSelectionType,n=t.charAt(0).toUpperCase()+t.slice(1),r="browse",i="browse",o="browse";if("files"===t)try{r=c.props.i18n("browse"),i=c.props.i18n("browse"),o=c.props.i18n("browse")}catch(e){}try{i=c.props.i18n("browseFiles"),o=c.props.i18n("browseFolders")}catch(e){}var a=c.renderBrowseButton(r,c.triggerFileInputClick),s=c.renderBrowseButton(i,c.triggerFileInputClick),u=c.renderBrowseButton(o,c.triggerFolderInputClick),l=0<e?c.props.i18nArray("dropPasteImport"+n,{browseFiles:s,browseFolders:u,browse:a}):c.props.i18nArray("dropPaste"+n,{browseFiles:s,browseFolders:u,browse:a});if("files"===t)try{l=0<e?c.props.i18nArray("dropPasteImport",{browse:a}):c.props.i18nArray("dropPaste",{browse:a})}catch(e){}return p("div",{class:"uppy-Dashboard-AddFiles-title"},l)},c.renderAcquirer=function(e){return p("div",{class:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},p("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,"aria-controls":"uppy-DashboardContent-panel--"+e.id,"aria-selected":c.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onclick:function(){return c.props.showPanel(e.id)}},e.icon(),p("div",{class:"uppy-DashboardTab-name"},e.name)))},c.renderAcquirers=function(e){var t=[].concat(e),n=t.splice(e.length-2,e.length);return p("div",{class:"uppy-Dashboard-AddFiles-list",role:"tablist"},c.renderMyDeviceAcquirer(),t.map(function(e){return c.renderAcquirer(e)}),p("span",{role:"presentation",style:"white-space: nowrap;"},n.map(function(e){return c.renderAcquirer(e)})))},c}t=r,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=n.prototype;return i.renderPoweredByUppy=function(){var e=p("span",null,p("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},p("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z","fill-rule":"evenodd"})),p("span",{class:"uppy-Dashboard-poweredByUppy"},"Uppy")),t=this.props.i18nArray("poweredBy2",{backwardsCompat:this.props.i18n("poweredBy"),uppy:e});return p("a",{tabindex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",class:"uppy-Dashboard-poweredBy"},t)},i.render=function(){var t=this;return p("div",{class:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(e){t.fileInput=e}),this.renderHiddenInput(!0,function(e){t.folderInput=e}),this.renderDropPasteBrowseTagline(),0<this.props.acquirers.length&&this.renderAcquirers(this.props.acquirers),p("div",{class:"uppy-Dashboard-AddFiles-info"},this.props.note&&p("div",{class:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))},n}(r.Component);e.exports=i},function(e,t){e.exports=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t&&e.preventDefault(),e.stopPropagation()}},function(e,t,n){var r,i;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=n(18).Plugin,u=n(26),E=n(186),l=n(95),c=n(189),p=n(190);e.exports=(i=r=function(r){var e,t;function n(e,t){var n=r.call(this,e,t)||this;n.startUpload=function(){return n.uppy.upload().catch(function(){})},n.id=n.opts.id||"StatusBar",n.title="StatusBar",n.type="progressindicator",n.defaultLocale={strings:{uploading:"Uploading",upload:"Upload",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",retryUpload:"Retry upload",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"}}};return n.opts=o({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},t),n.i18nInit(),n.render=n.render.bind(a(n)),n.install=n.install.bind(a(n)),n}t=r,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=n.prototype;return i.setOptions=function(e){r.prototype.setOptions.call(this,e),this.i18nInit()},i.i18nInit=function(){this.translator=new u([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},i.getTotalSpeed=function(e){var t=0;return e.forEach(function(e){t+=c(e.progress)}),t},i.getTotalETA=function(e){var t=this.getTotalSpeed(e);if(0===t)return 0;var n=e.reduce(function(e,t){return e+p(t.progress)},0);return Math.round(n/t*10)/10},i.getUploadingState=function(e,t,n){if(e)return l.STATE_ERROR;if(t)return l.STATE_COMPLETE;for(var r=l.STATE_WAITING,i=Object.keys(n),o=0;o<i.length;o++){var a=n[i[o]].progress;if(a.uploadStarted&&!a.uploadComplete)return l.STATE_UPLOADING;a.preprocess&&r!==l.STATE_UPLOADING&&(r=l.STATE_PREPROCESSING),a.postprocess&&r!==l.STATE_UPLOADING&&r!==l.STATE_PREPROCESSING&&(r=l.STATE_POSTPROCESSING)}return r},i.render=function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,o=e.error,a=Object.keys(n).map(function(e){return n[e]}),s=a.filter(function(e){return!e.progress.uploadStarted&&!e.progress.preprocess&&!e.progress.postprocess}),u=a.filter(function(e){return e.progress.uploadStarted}).filter(function(e){return e.isPaused}),l=a.filter(function(e){return e.progress.uploadComplete}),c=a.filter(function(e){return e.error}),p=a.filter(function(e){return!e.progress.uploadComplete&&e.progress.uploadStarted}),f=p.filter(function(e){return!e.isPaused}),d=a.filter(function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}),h=a.filter(function(e){return e.progress.preprocess||e.progress.postprocess}),g=this.getTotalETA(f),v=0,y=0;d.forEach(function(e){v+=e.progress.bytesTotal||0,y+=e.progress.bytesUploaded||0});var m=0<d.length,b=100===i&&l.length===Object.keys(n).length&&0===h.length,w=o&&c.length===a.length,S=0!==p.length&&u.length===p.length,P=0<p.length,A=t.resumableUploads||!1,k=!1!==t.uploadProgress;return E({error:o,uploadState:this.getUploadingState(w,b,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:v,totalUploadedSize:y,isAllComplete:b,isAllPaused:S,isAllErrored:w,isUploadStarted:m,isUploadInProgress:P,complete:l.length,newFiles:s.length,numUploads:d.length,totalETA:g,files:n,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:A,supportsUploadProgress:k,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},i.install=function(){var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.unmount()},n}(s),r.VERSION="1.8.1",i)},function(e,t){e.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}},function(e,t){e.exports=function(e,t){if(t){var n=e.querySelector('[data-uppy-paneltype="'+t+'"]');if(n)return n}return e}},function(e,t){e.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']},function(e,_,t){"use strict";t.r(_),function(e){var r=function(){if("undefined"!=typeof Map)return Map;function r(e,n){var r=-1;return e.some(function(e,t){return e[0]===n&&(r=t,!0)}),r}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=r(this.__entries__,e),n=this.__entries__[t];return n&&n[1]},e.prototype.set=function(e,t){var n=r(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},e.prototype.delete=function(e){var t=this.__entries__,n=r(t,e);~n&&t.splice(n,1)},e.prototype.has=function(e){return!!~r(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},e;function e(){this.__entries__=[]}}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,t=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),u="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(t):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},l=2;var i=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,a=(s.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},s.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},s.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),0<e.length},s.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;i.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s);function s(){function e(){o&&(o=!1,r()),a&&n()}function t(){u(e)}function n(){var e=Date.now();if(o){if(e-s<l)return;a=!0}else a=!(o=!0),setTimeout(t,i);s=e}var r,i,o,a,s;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(r=this.refresh.bind(this),a=o=!(i=20),s=0,n)}var c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||t},d=m(0,0,0,0);function h(e){return parseFloat(e)||0}function g(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(e,t){return e+h(n["border-"+t+"-width"])},0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r,i,o,a=f(e).getComputedStyle(e),s=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=h(o)}return t}(a),u=s.left+s.right,l=s.top+s.bottom,c=h(a.width),p=h(a.height);return"border-box"===a.boxSizing&&(Math.round(c+u)!==t&&(c-=g(a,"left","right")+u),Math.round(p+l)!==n&&(p-=g(a,"top","bottom")+l)),(o=e)!==f(o).document.documentElement&&(r=Math.round(c+u)-t,i=Math.round(p+l)-n,1!==Math.abs(r)&&(c-=r),1!==Math.abs(i)&&(p-=i)),m(s.left,s.top,c,p)}var v="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return n?v(e)?m(0,0,(t=e.getBBox()).width,t.height):p(e):d;var t}function m(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=(w.prototype.isActive=function(){var e=y(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},w.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},w);function w(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}var S=function(e,t){var n,r,i,o,a,s,u,l=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),c(u,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),u);c(this,{target:e,contentRect:l})},P=(A.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},A.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},A.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},A.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},A.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new S(e.target,e.broadcastRect())}),this.callback_.call(e,t,e),this.clearActive())},A.prototype.clearActive=function(){this.activeObservations_.splice(0)},A.prototype.hasActive=function(){return 0<this.activeObservations_.length},A);function A(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}var k=new("undefined"!=typeof WeakMap?WeakMap:r),E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=a.getInstance(),r=new P(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){E.prototype[t]=function(){var e;return(e=k.get(this))[t].apply(e,arguments)}});var O=void 0!==t.ResizeObserver?t.ResizeObserver:E;_.default=O}.call(this,t(14))},function(e,t,n){"use strict";function u(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.r(t),t.default=function(n,r){var i;void 0===r&&(r=u);var o,a=[],s=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s&&i===this&&r(e,a)||(o=n.apply(this,e),s=!0,i=this,a=e),o}}},function(e,t,n){"use strict";function i(e,t){var n=ne[e]=A(K[W]);return Y(n,{type:V,tag:e,description:t}),p||(n.description=t),n}function r(t,e){m(t);var n=w(e),r=k(n).concat(de(n));return q(r,function(e){p&&!fe.call(n,e)||pe(t,e,n[e])}),t}function o(e,t){var n=w(e),r=S(t,!0);if(n!==$||!g(ne,r)||g(re,r)){var i=Q(n,r);return!i||!g(ne,r)||g(n,H)&&n[H][r]||(i.enumerable=!0),i}}function a(e){var t=ee(w(e)),n=[];return q(t,function(e){g(ne,e)||g(B,e)||n.push(e)}),n}var s=n(12),u=n(2),l=n(22),c=n(21),p=n(6),f=n(43),d=n(67),h=n(3),g=n(4),v=n(44),y=n(7),m=n(5),b=n(23),w=n(13),S=n(27),P=n(15),A=n(30),k=n(45),E=n(39),O=n(106),_=n(42),x=n(33),T=n(8),U=n(34),F=n(9),C=n(10),R=n(37),I=n(28),B=n(29),D=n(38),L=n(1),M=n(69),j=n(70),N=n(24),z=n(16),q=n(107).forEach,H=I("hidden"),V="Symbol",W="prototype",G=L("toPrimitive"),Y=z.set,X=z.getterFor(V),$=Object[W],K=u.Symbol,J=l("JSON","stringify"),Q=x.f,Z=T.f,ee=O.f,te=U.f,ne=R("symbols"),re=R("op-symbols"),ie=R("string-to-symbol-registry"),oe=R("symbol-to-string-registry"),ae=R("wks"),se=u.QObject,ue=!se||!se[W]||!se[W].findChild,le=p&&h(function(){return 7!=A(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Q($,t);r&&delete $[t],Z(e,t,n),r&&e!==$&&Z($,t,r)}:Z,ce=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},pe=function(e,t,n){e===$&&pe(re,t,n),m(e);var r=S(t,!0);return m(n),g(ne,r)?(n.enumerable?(g(e,H)&&e[H][r]&&(e[H][r]=!1),n=A(n,{enumerable:P(0,!1)})):(g(e,H)||Z(e,H,P(1,{})),e[H][r]=!0),le(e,r,n)):Z(e,r,n)},fe=function(e){var t=S(e,!0),n=te.call(this,t);return!(this===$&&g(ne,t)&&!g(re,t))&&(!(n||!g(this,t)||!g(ne,t)||g(this,H)&&this[H][t])||n)},de=function(e){var t=e===$,n=ee(t?re:w(e)),r=[];return q(n,function(e){!g(ne,e)||t&&!g($,e)||r.push(ne[e])}),r};f||(C((K=function(e){if(this instanceof K)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==e?String(e):void 0,n=D(t),r=function(e){this===$&&r.call(re,e),g(this,H)&&g(this[H],n)&&(this[H][n]=!1),le(this,n,P(1,e))};return p&&ue&&le($,n,{configurable:!0,set:r}),i(n,t)})[W],"toString",function(){return X(this).tag}),C(K,"withoutSetter",function(e){return i(D(e),e)}),U.f=fe,T.f=pe,x.f=o,E.f=O.f=a,_.f=de,M.f=function(e){return i(L(e),e)},p&&(Z(K[W],"description",{configurable:!0,get:function(){return X(this).description}}),c||C($,"propertyIsEnumerable",fe,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:K}),q(k(ae),function(e){j(e)}),s({target:V,stat:!0,forced:!f},{for:function(e){var t=String(e);if(g(ie,t))return ie[t];var n=K(t);return ie[t]=n,oe[n]=t,n},keyFor:function(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(g(oe,e))return oe[e]},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!p},{create:function(e,t){return void 0===t?A(e):r(A(e),t)},defineProperty:pe,defineProperties:r,getOwnPropertyDescriptor:o}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:a,getOwnPropertySymbols:de}),s({target:"Object",stat:!0,forced:h(function(){_.f(1)})},{getOwnPropertySymbols:function(e){return _.f(b(e))}}),J&&s({target:"JSON",stat:!0,forced:!f||h(function(){var e=K();return"[null]"!=J([e])||"{}"!=J({a:e})||"{}"!=J(Object(e))})},{stringify:function(e,t,n){for(var r,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((y(r=t)||void 0!==e)&&!ce(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ce(t))return t}),i[1]=t,J.apply(null,i)}}),K[W][G]||F(K[W],G,K[W].valueOf),N(K,V),B[H]=!0},function(e,t,n){var r=n(2),i=n(61),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(22),i=n(39),o=n(42),a=n(5);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){function r(s){return function(e,t,n){var r,i=u(e),o=l(i.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}var u=n(13),l=n(17),c=n(66);e.exports={includes:r(!0),indexOf:r(!1)}},function(e,t,n){function r(e,t){var n=s[a(e)];return n==l||n!=u&&("function"==typeof t?i(t):!!t)}var i=n(3),o=/#|\.prototype\./,a=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=r.data={},u=r.NATIVE="N",l=r.POLYFILL="P";e.exports=r},function(e,t,n){var r=n(22);e.exports=r("document","documentElement")},function(e,t,n){var r=n(13),i=n(39).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){function r(d){var h=1==d,g=2==d,v=3==d,y=4==d,m=6==d,b=5==d||m;return function(e,t,n,r){for(var i,o,a=P(e),s=S(a),u=w(t,n,3),l=A(s.length),c=0,p=r||k,f=h?p(e,l):g?p(e,0):void 0;c<l;c++)if((b||c in s)&&(o=u(i=s[c],c,a),d))if(h)f[c]=o;else if(o)switch(d){case 3:return!0;case 5:return i;case 6:return c;case 2:E.call(f,i)}else if(y)return!1;return m?-1:v||y?y:f}}var w=n(46),S=n(35),P=n(23),A=n(17),k=n(108),E=[].push;e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},function(e,t,n){var r=n(7),i=n(44),o=n(1)("species");e.exports=function(e,t){var n;return i(e)&&("function"==typeof(n=e.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[o]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";var r,i,o,a,s,u,l=n(12),c=n(6),p=n(2),f=n(4),d=n(7),h=n(8).f,g=n(63),v=p.Symbol;!c||"function"!=typeof v||"description"in v.prototype&&void 0===v().description||(r={},g(i=function(e){var t=arguments.length<1||void 0===e?void 0:String(e),n=this instanceof i?new v(t):void 0===t?v():v(t);return""===t&&(r[n]=!0),n},v),(o=i.prototype=v.prototype).constructor=i,a=o.toString,s="Symbol(test)"==String(v("test")),u=/^Symbol\((.*)\)[^)]+$/,h(o,"description",{configurable:!0,get:function(){var e=d(this)?this.valueOf():this,t=a.call(e);if(f(r,e))return"";var n=s?t.slice(7,-1):t.replace(u,"$1");return""===n?void 0:n}}),l({global:!0,forced:!0},{Symbol:i}))},function(e,t,n){n(70)("iterator")},function(e,t,n){var o=n(5);e.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(e,t,n){var r=n(1),i=n(25),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var i=n(1)("iterator"),o=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},function(e,t,n){var r=n(1),i=n(30),o=n(8),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var r=n(3);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var i=n(5),o=n(117);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return i(e),o(t),r?n.call(e,t):e.__proto__=t,e}}():void 0)},function(e,t,n){var r=n(7);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(12),l=n(7),c=n(44),p=n(66),f=n(17),d=n(13),h=n(74),i=n(1),o=n(119),a=n(122),s=o("slice"),u=a("slice",{ACCESSORS:!0,0:0,1:2}),g=i("species"),v=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!s||!u},{slice:function(e,t){var n,r,i,o=d(this),a=f(o.length),s=p(e,a),u=p(void 0===t?a:t,a);if(c(o)&&(("function"==typeof(n=o.constructor)&&(n===Array||c(n.prototype))||l(n)&&null===(n=n[g]))&&(n=void 0),n===Array||void 0===n))return v.call(o,s,u);for(r=new(void 0===n?Array:n)(y(u-s,0)),i=0;s<u;s++,i++)s in o&&h(r,i,o[s]);return r.length=i,r}})},function(e,t,n){var r=n(3),i=n(1),o=n(120),a=i("species");e.exports=function(t){return 51<=o||!r(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(e,t,n){var r,i,o=n(2),a=n(121),s=o.process,u=s&&s.versions,l=u&&u.v8;l?i=(r=l.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||74<=r[1])&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(22);e.exports=r("navigator","userAgent")||""},function(e,t,n){function a(e){throw e}var s=n(6),u=n(3),l=n(4),c=Object.defineProperty,p={};e.exports=function(e,t){if(l(p,e))return p[e];var n=[][e],r=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,i=l(t,0)?t[0]:a,o=l(t,1)?t[1]:void 0;return p[e]=!!n&&!u(function(){if(r&&!s)return!0;var e={length:-1};r?c(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,i,o)})}},function(e,t,n){var r=n(49),i=n(10),o=n(124);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(49),i=n(48);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){"use strict";var r=n(3);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r(function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=r(function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},function(e,t,n){"use strict";var r=n(10),i=n(5),o=n(3),a=n(80),s="toString",u=RegExp.prototype,l=u[s],c=o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),p=l.name!=s;(c||p)&&r(RegExp.prototype,s,function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in u)?a.call(e):n)},{unsafe:!0})},function(e,t,n){"use strict";var r=n(81),p=n(128),b=n(5),f=n(20),w=n(129),S=n(82),P=n(17),A=n(83),d=n(31),i=n(3),h=[].push,k=Math.min,E=4294967295,O=!i(function(){return!RegExp(E,"y")});r("split",2,function(i,v,y){var m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var n=String(f(this)),r=void 0===t?E:t>>>0;if(0==r)return[];if(void 0===e)return[n];if(!p(e))return v.call(n,e,r);for(var i,o,a,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,c=new RegExp(e.source,u+"g");(i=d.call(c,n))&&!(l<(o=c.lastIndex)&&(s.push(n.slice(l,i.index)),1<i.length&&i.index<n.length&&h.apply(s,i.slice(1)),a=i[0].length,l=o,s.length>=r));)c.lastIndex===i.index&&c.lastIndex++;return l===n.length?!a&&c.test("")||s.push(""):s.push(n.slice(l)),s.length>r?s.slice(0,r):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:v.call(this,e,t)}:v;return[function(e,t){var n=f(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):m.call(String(n),e,t)},function(e,t){var n=y(m,e,this,t,m!==v);if(n.done)return n.value;var r=b(e),i=String(this),o=w(r,RegExp),a=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(O?"y":"g"),u=new o(O?r:"^(?:"+r.source+")",s),l=void 0===t?E:t>>>0;if(0==l)return[];if(0===i.length)return null===A(u,i)?[i]:[];for(var c=0,p=0,f=[];p<i.length;){u.lastIndex=O?p:0;var d,h=A(u,O?i:i.slice(p));if(null===h||(d=k(P(u.lastIndex+(O?0:p)),i.length))===c)p=S(i,p,a);else{if(f.push(i.slice(c,p)),f.length===l)return f;for(var g=1;g<=h.length-1;g++)if(f.push(h[g]),f.length===l)return f;p=c=d}}return f.push(i.slice(c)),f}]},!O)},function(e,t,n){var r=n(7),i=n(19),o=n(1)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var i=n(5),o=n(71),a=n(1)("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[a])?t:o(n)}},function(e,t,n){var r=n(2),i=n(131),o=n(50),a=n(9),s=n(1),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var p in i){var f=r[p],d=f&&f.prototype;if(d){if(d[u]!==c)try{a(d,u,c)}catch(e){d[u]=c}if(d[l]||a(d,l,p),i[p])for(var h in o)if(d[h]!==o[h])try{a(d,h,o[h])}catch(e){d[h]=o[h]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";n(52);function w(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return M;if(!(n=Q(t.slice(1,-1))))return M;e.host=n}else if(oe(e)){if(t=m(t),Y.test(t))return M;if(null===(n=J(t)))return M;e.host=n}else{if(X.test(t))return M;for(n="",r=_(t),i=0;i<r.length;i++)n+=re(r[i],Z);e.host=n}}function c(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=B(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(n<i&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return n<i&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i=i&&!1,r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}function S(e){return""!=e.username||""!=e.password}function i(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function P(e,t){var n;return 2==e.length&&N.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)}function A(e){var t;return 1<e.length&&P(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)}function k(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&P(t[0],!0)||t.pop()}function p(e,t,n,r){var i,o,a,s,u,l,c=n||ae,p=0,f="",d=!1,h=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace($,"")),t=t.replace(K,""),i=_(t);p<=i.length;){switch(o=i[p],c){case ae:if(!o||!N.test(o)){if(n)return L;c=ue;continue}f+=o.toLowerCase(),c=se;break;case se:if(o&&(z.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return L;f="",c=ue,p=0;continue}if(n&&(oe(e)!=O(ie,f)||"file"==f&&(S(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(oe(e)&&ie[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=be:oe(e)&&r&&r.scheme==e.scheme?c=le:oe(e)?c=de:"/"==i[p+1]?(c=ce,p++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ke)}break;case ue:if(!r||r.cannotBeABaseURL&&"#"!=o)return L;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=Oe;break}c="file"==r.scheme?be:pe;continue;case le:if("/"!=o||"/"!=i[p+1]){c=pe;continue}c=he,p++;break;case ce:if("/"==o){c=ge;break}c=Ae;continue;case pe:if(e.scheme=r.scheme,o==E)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&oe(e))c=fe;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Ee;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=Ae;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Oe}break;case fe:if(!oe(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=Ae;continue}c=ge}else c=he;break;case de:if(c=he,"/"!=o||"/"!=f.charAt(p+1))continue;p++;break;case he:if("/"==o||"\\"==o)break;c=ge;continue;case ge:if("@"==o){d&&(f="%40"+f),d=!0,a=_(f);for(var v=0;v<a.length;v++){var y,m=a[v];":"!=m||g?(y=re(m,ne),g?e.password+=y:e.username+=y):g=!0}f=""}else if(o==E||"/"==o||"?"==o||"#"==o||"\\"==o&&oe(e)){if(d&&""==f)return"Invalid authority";p-=_(f).length+1,f="",c=ve}else f+=o;break;case ve:case ye:if(n&&"file"==e.scheme){c=Se;continue}if(":"!=o||h){if(o==E||"/"==o||"?"==o||"#"==o||"\\"==o&&oe(e)){if(oe(e)&&""==f)return M;if(n&&""==f&&(S(e)||null!==e.port))return;if(s=w(e,f))return s;if(f="",c=Pe,n)return;continue}"["==o?h=!0:"]"==o&&(h=!1),f+=o}else{if(""==f)return M;if(s=w(e,f))return s;if(f="",c=me,n==ye)return}break;case me:if(!q.test(o)){if(o==E||"/"==o||"?"==o||"#"==o||"\\"==o&&oe(e)||n){if(""!=f){var b=parseInt(f,10);if(65535<b)return j;e.port=oe(e)&&b===ie[e.scheme]?null:b,f=""}if(n)return;c=Pe;continue}return j}f+=o;break;case be:if(e.scheme="file","/"==o||"\\"==o)c=we;else{if(!r||"file"!=r.scheme){c=Ae;continue}if(o==E)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",c=Ee;else{if("#"!=o){A(i.slice(p).join(""))||(e.host=r.host,e.path=r.path.slice(),k(e)),c=Ae;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Oe}}break;case we:if("/"==o||"\\"==o){c=Se;break}r&&"file"==r.scheme&&!A(i.slice(p).join(""))&&(P(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=Ae;continue;case Se:if(o==E||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&P(f))c=Ae;else if(""==f){if(e.host="",n)return;c=Pe}else{if(s=w(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",c=Pe}continue}f+=o;break;case Pe:if(oe(e)){if(c=Ae,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=E&&(c=Ae,"/"!=o))continue}else e.fragment="",c=Oe;else e.query="",c=Ee;break;case Ae:if(o==E||"/"==o||"\\"==o&&oe(e)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=f).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(k(e),"/"==o||"\\"==o&&oe(e)||e.path.push("")):"."===(u=f)||"%2e"===u.toLowerCase()?"/"==o||"\\"==o&&oe(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&P(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==E||"?"==o||"#"==o))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=Ee):"#"==o&&(e.fragment="",c=Oe)}else f+=re(o,te);break;case ke:"?"==o?(e.query="",c=Ee):"#"==o?(e.fragment="",c=Oe):o!=E&&(e.path[0]+=re(o,Z));break;case Ee:n||"#"!=o?o!=E&&("'"==o&&oe(e)?e.query+="%27":e.query+="#"==o?"%23":re(o,Z)):(e.fragment="",c=Oe);break;case Oe:o!=E&&(e.fragment+=re(o,ee))}p++}}function r(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}var E,o,a,s=n(12),f=n(6),u=n(84),l=n(2),d=n(68),h=n(10),g=n(85),O=n(4),v=n(133),_=n(73),y=n(53).codeAt,m=n(134),b=n(24),x=n(135),T=n(16),U=l.URL,F=x.URLSearchParams,C=x.getState,R=T.set,I=T.getterFor("URL"),B=Math.floor,D=Math.pow,L="Invalid scheme",M="Invalid host",j="Invalid port",N=/[A-Za-z]/,z=/[\d+-.A-Za-z]/,q=/\d/,H=/^(0x|0X)/,V=/^[0-7]+$/,W=/^\d+$/,G=/^[\dA-Fa-f]+$/,Y=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,X=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,$=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,K=/[\u0009\u000A\u000D]/g,J=function(e){var t,n,r,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),4<(t=u.length))return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,1<i.length&&"0"==i.charAt(0)&&(o=H.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?W:8==o?V:G).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=D(256,5-t))return null}else if(255<a)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*D(256,3-r);return s},Q=function(e){function t(){return e.charAt(f)}var n,r,i,o,a,s,u,l=[0,0,0,0,0,0,0,0],c=0,p=null,f=0;if(":"==t()){if(":"!=e.charAt(1))return;f+=2,p=++c}for(;t();){if(8==c)return;if(":"!=t()){for(n=r=0;r<4&&G.test(t());)n=16*n+parseInt(t(),16),f++,r++;if("."==t()){if(0==r)return;if(f-=r,6<c)return;for(i=0;t();){if(o=null,0<i){if(!("."==t()&&i<4))return;f++}if(!q.test(t()))return;for(;q.test(t());){if(a=parseInt(t(),10),null===o)o=a;else{if(0==o)return;o=10*o+a}if(255<o)return;f++}l[c]=256*l[c]+o,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==t()){if(f++,!t())return}else if(t())return;l[c++]=n}else{if(null!==p)return;f++,p=++c}}if(null!==p)for(s=c-p,c=7;0!=c&&0<s;)u=l[c],l[c--]=l[p+s-1],l[p+--s]=u;else if(8!=c)return;return l},Z={},ee=v({},Z,{" ":1,'"':1,"<":1,">":1,"`":1}),te=v({},ee,{"#":1,"?":1,"{":1,"}":1}),ne=v({},te,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),re=function(e,t){var n=y(e,0);return 32<n&&n<127&&!O(t,e)?e:encodeURIComponent(e)},ie={ftp:21,file:null,http:80,https:443,ws:80,wss:443},oe=function(e){return O(ie,e.scheme)},ae={},se={},ue={},le={},ce={},pe={},fe={},de={},he={},ge={},ve={},ye={},me={},be={},we={},Se={},Pe={},Ae={},ke={},Ee={},Oe={},_e=function(e,t){var n,r,i=g(this,_e,"URL"),o=1<arguments.length?t:void 0,a=String(e),s=R(i,{type:"URL"});if(void 0!==o)if(o instanceof _e)n=I(o);else if(r=p(n={},String(o)))throw TypeError(r);if(r=p(s,a,null,n))throw TypeError(r);var u=s.searchParams=new F,l=C(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},f||(i.href=Te.call(i),i.origin=Ue.call(i),i.protocol=Fe.call(i),i.username=Ce.call(i),i.password=Re.call(i),i.host=Ie.call(i),i.hostname=Be.call(i),i.port=De.call(i),i.pathname=Le.call(i),i.search=Me.call(i),i.searchParams=je.call(i),i.hash=Ne.call(i))},xe=_e.prototype,Te=function(){var e=I(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",S(e)&&(l+=n+(r?":"+r:"")+"@"),l+=c(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Ue=function(){var e=I(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&oe(e)?t+"://"+c(e.host)+(null!==n?":"+n:""):"null"},Fe=function(){return I(this).scheme+":"},Ce=function(){return I(this).username},Re=function(){return I(this).password},Ie=function(){var e=I(this),t=e.host,n=e.port;return null===t?"":null===n?c(t):c(t)+":"+n},Be=function(){var e=I(this).host;return null===e?"":c(e)},De=function(){var e=I(this).port;return null===e?"":String(e)},Le=function(){var e=I(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Me=function(){var e=I(this).query;return e?"?"+e:""},je=function(){return I(this).searchParams},Ne=function(){var e=I(this).fragment;return e?"#"+e:""};f&&d(xe,{href:r(Te,function(e){var t=I(this),n=String(e),r=p(t,n);if(r)throw TypeError(r);C(t.searchParams).updateSearchParams(t.query)}),origin:r(Ue),protocol:r(Fe,function(e){var t=I(this);p(t,String(e)+":",ae)}),username:r(Ce,function(e){var t=I(this),n=_(String(e));if(!i(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=re(n[r],ne)}}),password:r(Re,function(e){var t=I(this),n=_(String(e));if(!i(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=re(n[r],ne)}}),host:r(Ie,function(e){var t=I(this);t.cannotBeABaseURL||p(t,String(e),ve)}),hostname:r(Be,function(e){var t=I(this);t.cannotBeABaseURL||p(t,String(e),ye)}),port:r(De,function(e){var t=I(this);i(t)||(""==(e=String(e))?t.port=null:p(t,e,me))}),pathname:r(Le,function(e){var t=I(this);t.cannotBeABaseURL||(t.path=[],p(t,e+"",Pe))}),search:r(Me,function(e){var t=I(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",p(t,e,Ee)),C(t.searchParams).updateSearchParams(t.query)}),searchParams:r(je),hash:r(Ne,function(e){var t=I(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",p(t,e,Oe)):t.fragment=null})}),h(xe,"toJSON",function(){return Te.call(this)},{enumerable:!0}),h(xe,"toString",function(){return Te.call(this)},{enumerable:!0}),U&&(o=U.createObjectURL,a=U.revokeObjectURL,o&&h(_e,"createObjectURL",function(e){return o.apply(U,arguments)}),a&&h(_e,"revokeObjectURL",function(e){return a.apply(U,arguments)})),b(_e,"URL"),s({global:!0,forced:!u,sham:!f},{URL:_e})},function(e,t,n){"use strict";var f=n(6),r=n(3),d=n(45),h=n(42),g=n(34),v=n(23),y=n(35),i=Object.assign,o=Object.defineProperty;e.exports=!i||r(function(){if(f&&1!==i({b:1},i(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||d(i({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,i=1,o=h.f,a=g.f;i<r;)for(var s,u=y(arguments[i++]),l=o?d(u).concat(o(u)):d(u),c=l.length,p=0;p<c;)s=l[p++],f&&!a.call(u,s)||(n[s]=u[s]);return n}:i},function(e,t,n){"use strict";function y(e){return e+22+75*(e<26)}function o(e){var t,n=[],r=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i,o=e.charCodeAt(n++);55296<=o&&o<=56319&&n<r?56320==(64512&(i=e.charCodeAt(n++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--):t.push(o)}return t}(e)).length,i=128,o=0,a=72;for(c=0;c<e.length;c++)(t=e[c])<128&&n.push(S(t));var s=n.length,u=s;for(s&&n.push("-");u<r;){for(var l=m,c=0;c<e.length;c++)i<=(t=e[c])&&t<l&&(l=t);var p=u+1;if(l-i>w((m-o)/p))throw RangeError(b);for(o+=(l-i)*p,i=l,c=0;c<e.length;c++){if((t=e[c])<i&&++o>m)throw RangeError(b);if(t==i){for(var f=o,d=36;;d+=36){var h=d<=a?1:a+26<=d?26:d-a;if(f<h)break;var g=f-h,v=36-h;n.push(S(y(h+g%v))),f=w(g/v)}n.push(S(y(f))),a=function(e,t,n){var r=0;for(e=n?w(e/700):e>>1,e+=w(e/t);455<e;r+=36)e=w(e/35);return w(r+36*e/(e+38))}(o,p,u==s),o=0,++u}}++o,++i}return n.join("")}var m=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,b="Overflow: input needs wider integers to process",w=Math.floor,S=String.fromCharCode;e.exports=function(e){for(var t,n=[],r=e.toLowerCase().replace(s,".").split("."),i=0;i<r.length;i++)t=r[i],n.push(a.test(t)?"xn--"+o(t):t);return n.join(".")}},function(e,t,n){"use strict";n(50);function r(t){try{return decodeURIComponent(t)}catch(e){return t}}function a(e){var t=e.replace(L," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(function(e){return M[e-1]||(M[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))}(n--),r);return t}}function i(e){return N[e]}function o(e){return encodeURIComponent(e).replace(j,i)}function f(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:a(r.shift()),value:a(r.join("="))}))}function d(e){this.entries.length=0,f(this.entries,e)}function l(e,t){if(e<t)throw TypeError("Not enough arguments")}var s=n(12),u=n(22),c=n(84),p=n(10),h=n(136),g=n(24),v=n(76),y=n(16),m=n(85),b=n(4),w=n(46),S=n(48),P=n(5),A=n(7),k=n(30),E=n(15),O=n(137),_=n(47),x=n(1),T=u("fetch"),U=u("Headers"),F=x("iterator"),C="URLSearchParams",R=C+"Iterator",I=y.set,B=y.getterFor(C),D=y.getterFor(R),L=/\+/g,M=Array(4),j=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=v(function(e,t){I(this,{type:R,iterator:O(B(e).entries),kind:t})},"Iterator",function(){var e=D(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),q=function(e){m(this,q,C);var t,n,r,i,o,a,s,u,l,c=0<arguments.length?e:void 0,p=[];if(I(this,{type:C,entries:p,updateURL:function(){},updateSearchParams:d}),void 0!==c)if(A(c))if("function"==typeof(t=_(c)))for(r=(n=t.call(c)).next;!(i=r.call(n)).done;){if((s=(a=(o=O(P(i.value))).next).call(o)).done||(u=a.call(o)).done||!a.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:s.value+"",value:u.value+""})}else for(l in c)b(c,l)&&p.push({key:l,value:c[l]+""});else f(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=q.prototype;h(H,{append:function(e,t){l(arguments.length,2);var n=B(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){l(arguments.length,1);for(var t=B(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){l(arguments.length,1);for(var t=B(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){l(arguments.length,1);for(var t=B(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){l(arguments.length,1);for(var t=B(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){l(arguments.length,1);for(var n,r=B(this),i=r.entries,o=!1,a=e+"",s=t+"",u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){for(var e,t,n=B(this),r=n.entries,i=r.slice(),o=r.length=0;o<i.length;o++){for(e=i[o],t=0;t<o;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===o&&r.push(e)}n.updateURL()},forEach:function(e,t){for(var n,r=B(this).entries,i=w(e,1<arguments.length?t:void 0,3),o=0;o<r.length;)i((n=r[o++]).value,n.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),p(H,F,H.entries),p(H,"toString",function(){for(var e,t=B(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(o(e.key)+"="+o(e.value));return n.join("&")},{enumerable:!0}),g(q,C),s({global:!0,forced:!c},{URLSearchParams:q}),c||"function"!=typeof T||"function"!=typeof U||s({global:!0,enumerable:!0,forced:!0},{fetch:function(e,t){var n,r,i,o=[e];return 1<arguments.length&&(A(n=t)&&(r=n.body,S(r)===C&&((i=n.headers?new U(n.headers):new U).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=k(n,{body:E(0,String(r)),headers:E(0,i)}))),o.push(n)),T.apply(this,o)}}),e.exports={URLSearchParams:q,getState:B}},function(e,t,n){var i=n(10);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var r=n(5),i=n(47);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t){e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){var r=n(87),i="object"==typeof window?window:self,o=Object.keys(i).length,a=r(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+o.toString(36),4);e.exports=function(){return a}},function(e,t){var n,r,i="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;r=i?(n=Math.pow(2,32)-1,function(){return Math.abs(i.getRandomValues(new Uint32Array(1))[0]/n)}):Math.random,e.exports=r},function(e,t,n){var r=n(142),i=/[\/\+\.]/;e.exports=function(n,e){function t(e){var t=r(e,n,i);return t&&2<=t.length}return e?t(e.split(";")[0]):t}},function(e,t,n){"use strict";function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}i.prototype.match=function(e){var t,n,r=!0,i=this.parts,o=i.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;r&&t<o;t++)"*"!==i[t]&&(r=t<n.length&&i[t]===n[t]);r=r&&n}else r=!1;else if("function"==typeof e.splice)for(r=[],t=e.length;t--;)this.match(e[t])&&(r[r.length]=e[t]);else if("object"==typeof e)for(var a in r={},e)this.match(a)&&(r[a]=e[a]);return r},e.exports=function(e,t,n){var r=new i(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}},function(e,t){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var n=function(){function e(){this.state={},this.callbacks=[]}var t=e.prototype;return t.getState=function(){return this.state},t.setState=function(e){var t=r({},this.state),n=r({},this.state,e);this.state=n,this._publish(t,n,e)},t.subscribe=function(e){var t=this;return this.callbacks.push(e),function(){t.callbacks.splice(t.callbacks.indexOf(e),1)}},t._publish=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.forEach(function(e){e.apply(void 0,t)})},e}();n.VERSION="1.2.4",e.exports=function(){return new n}},function(e,t,n){var r=n(88),i=n(145);e.exports=function(e){var t=(t=e.name?r(e.name).extension:null)?t.toLowerCase():null;return e.type?e.type:t&&i[t]?i[t]:"application/octet-stream"}},function(e,t){e.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},function(e,t){function n(e){var t="";return e.replace(/[^A-Z0-9]/gi,function(e){return t+="-"+e.charCodeAt(0).toString(32),"/"})+t}e.exports=function(e){var t="uppy";return"string"==typeof e.name&&(t+="-"+n(e.name.toLowerCase())),void 0!==e.type&&(t+="-"+e.type),e.meta&&"string"==typeof e.meta.relativePath&&(t+="-"+n(e.meta.relativePath.toLowerCase())),void 0!==e.data.size&&(t+="-"+e.data.size),void 0!==e.data.lastModified&&(t+="-"+e.data.lastModified),t}},function(e,t){e.exports=function(e){if(null==e&&(e="undefined"!=typeof navigator?navigator.userAgent:null),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split("."),r=n[0],i=n[1],r=parseInt(r,10),i=parseInt(i,10);return r<15||15===r&&i<15063||(18<r||18===r&&18218<=i)}},function(e,t,n){var i=n(149),r={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] ["+i()+"]"].concat(n))}},o={debug:function(){for(var e=console.debug||console.log,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.call.apply(e,[console,"[Uppy] ["+i()+"]"].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] ["+i()+"]"].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] ["+i()+"]"].concat(n))}};e.exports={justErrorsLogger:r,debugLogger:o}},function(e,t){function n(e){return 2!==e.length?0+e:e}e.exports=function(){var e=new Date;return n(e.getHours().toString())+":"+n(e.getMinutes().toString())+":"+n(e.getSeconds().toString())}},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=n(0),d=n(151);e.exports=function(){function p(e,t){this.uppy=e,this.opts=t||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}var e=p.prototype;return e.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},e.setPluginState=function(e){var t,n=this.uppy.getState().plugins;this.uppy.setState({plugins:r({},n,((t={})[this.id]=r({},n[this.id],e),t))})},e.setOptions=function(e){this.opts=r({},this.opts,e),this.setPluginState()},e.update=function(e){void 0!==this.el&&this._updateUI&&this._updateUI(e)},e.afterUpdate=function(){},e.onMount=function(){},e.mount=function(e,t){var r,i,o,n,a,s=this,u=t.id,l=d(e);if(l)return this.isTargetDOMEl=!0,this.rerender=function(e){s.uppy.getPlugin(s.id)&&(s.el=f.render(s.render(e),l,s.el),s.afterUpdate())},this._updateUI=(r=this.rerender,o=null,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i=t,o=o||Promise.resolve().then(function(){return o=null,r.apply(void 0,i)})}),this.uppy.log("Installing "+u+" to a DOM element '"+e+"'"),this.opts.replaceTargetContent&&(l.innerHTML=""),this.el=f.render(this.render(this.uppy.getState()),l),this.onMount(),this.el;if("object"==typeof e&&e instanceof p?n=e:"function"==typeof e&&(a=e,this.uppy.iteratePlugins(function(e){if(e instanceof a)return n=e,!1})),n)return this.uppy.log("Installing "+u+" to "+n.id),this.parent=n,this.el=n.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing "+u);var c="Invalid target option given to "+u+".";throw c+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(c)},e.render=function(){throw new Error("Extend the render method to add your plugin to a DOM element")},e.addTarget=function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},e.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.install=function(){},e.uninstall=function(){this.unmount()},p}()},function(e,t,n){var r=n(89);e.exports=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):r(e)?e:void 0}},function(e,t,n){var r,i;function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(18).Plugin,a=n(54),s=n(26),u=n(153),c=u.Provider,f=u.RequestClient,d=u.Socket,h=n(160),g=n(161),l=n(162),v=n(163),y=n(164),m=n(165),b=n(90),w=n(166);function S(e,t){return"string"==typeof(t=t||new Error("Upload error"))&&(t=new Error(t)),t instanceof Error||(t=p(new Error("Upload error"),{data:t})),w(e)?t=new b(t,e):(t.request=e,t)}function P(e){return e.data.slice(0,e.data.size,e.meta.type)}e.exports=(i=r=function(i){var e,t;function n(e,t){var n=i.call(this,e,t)||this;n.type="uploader",n.id=n.opts.id||"XHRUpload",n.title="XHRUpload";var r={formData:!0,fieldName:"files[]",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!(n.defaultLocale={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}),headers:{},timeout:3e4,limit:0,withCredentials:!1,responseType:"",getResponseData:function(e){var t={};try{t=JSON.parse(e)}catch(e){console.log(e)}return t},getResponseError:function(e,t){var n=new Error("Upload error");return w(t)&&(n=new b(n,t)),n},validateStatus:function(e){return 200<=e&&e<300}};if(n.opts=p({},r,t),n.i18nInit(),n.handleUpload=n.handleUpload.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n.opts.__queue instanceof m?n.requests=n.opts.__queue:n.requests=new m(n.opts.limit),n.opts.bundle&&!n.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return n.uploaderEvents=Object.create(null),n}t=i,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var r=n.prototype;return r.setOptions=function(e){i.prototype.setOptions.call(this,e),this.i18nInit()},r.i18nInit=function(){this.translator=new s([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},r.getOptions=function(e){var t=this.uppy.getState().xhrUpload,n=p({},this.opts,t||{},e.xhrUpload||{},{headers:{}});return p(n.headers,this.opts.headers),t&&p(n.headers,t.headers),e.xhrUpload&&p(n.headers,e.xhrUpload.headers),n},r.addMetadata=function(t,n,e){(Array.isArray(e.metaFields)?e.metaFields:Object.keys(n)).forEach(function(e){t.append(e,n[e])})},r.createFormDataUpload=function(e,t){var n=new FormData;this.addMetadata(n,e.meta,t);var r=P(e);return e.name?n.append(t.fieldName,r,e.meta.name):n.append(t.fieldName,r),n},r.createBundledUpload=function(e,t){var r=this,i=new FormData,n=this.uppy.getState().meta;return this.addMetadata(i,n,t),e.forEach(function(e){var t=r.getOptions(e),n=P(e);e.name?i.append(t.fieldName,n,e.name):i.append(t.fieldName,n)}),i},r.createBareUpload=function(e){return e.data},r.upload=function(d,e,t){var h=this,g=this.getOptions(d);return this.uppy.log("uploading "+e+" of "+t),new Promise(function(s,u){h.uppy.emit("upload-started",d);var e=g.formData?h.createFormDataUpload(d,g):h.createBareUpload(d,g),l=new XMLHttpRequest;h.uploaderEvents[d.id]=new v(h.uppy);var c=new y(g.timeout,function(){l.abort(),f.done();var e=new Error(h.i18n("timedOut",{seconds:Math.ceil(g.timeout/1e3)}));h.uppy.emit("upload-error",d,e),u(e)}),p=a();l.upload.addEventListener("loadstart",function(e){h.uppy.log("[XHRUpload] "+p+" started")}),l.upload.addEventListener("progress",function(e){h.uppy.log("[XHRUpload] "+p+" progress: "+e.loaded+" / "+e.total),c.progress(),e.lengthComputable&&h.uppy.emit("upload-progress",d,{uploader:h,bytesUploaded:e.loaded,bytesTotal:e.total})}),l.addEventListener("load",function(e){if(h.uppy.log("[XHRUpload] "+p+" finished"),c.done(),f.done(),h.uploaderEvents[d.id]&&(h.uploaderEvents[d.id].remove(),h.uploaderEvents[d.id]=null),g.validateStatus(e.target.status,l.responseText,l)){var t=g.getResponseData(l.responseText,l),n=t[g.responseUrlFieldName],r={status:e.target.status,body:t,uploadURL:n};return h.uppy.emit("upload-success",d,r),n&&h.uppy.log("Download "+d.name+" from "+n),s(d)}var i=g.getResponseData(l.responseText,l),o=S(l,g.getResponseError(l.responseText,l)),a={status:e.target.status,body:i};return h.uppy.emit("upload-error",d,o,a),u(o)}),l.addEventListener("error",function(e){h.uppy.log("[XHRUpload] "+p+" errored"),c.done(),f.done(),h.uploaderEvents[d.id]&&(h.uploaderEvents[d.id].remove(),h.uploaderEvents[d.id]=null);var t=S(l,g.getResponseError(l.responseText,l));return h.uppy.emit("upload-error",d,t),u(t)}),l.open(g.method.toUpperCase(),g.endpoint,!0),l.withCredentials=g.withCredentials,""!==g.responseType&&(l.responseType=g.responseType),Object.keys(g.headers).forEach(function(e){l.setRequestHeader(e,g.headers[e])});var f=h.requests.run(function(){return l.send(e),function(){c.done(),l.abort()}});h.onFileRemove(d.id,function(){f.abort(),u(new Error("File removed"))}),h.onCancelAll(d.id,function(){f.abort(),u(new Error("Upload cancelled"))})})},r.uploadRemote=function(s){var u=this,l=this.getOptions(s);return new Promise(function(o,a){u.uppy.emit("upload-started",s);var t={};(Array.isArray(l.metaFields)?l.metaFields:Object.keys(s.meta)).forEach(function(e){t[e]=s.meta[e]}),new(s.remote.providerOptions.provider?c:f)(u.uppy,s.remote.providerOptions).post(s.remote.url,p({},s.remote.body,{endpoint:l.endpoint,size:s.data.size,fieldname:l.fieldName,metadata:t,httpMethod:l.method,useFormData:l.formData,headers:l.headers})).then(function(e){var t=e.token,n=g(s.remote.companionUrl),r=new d({target:n+"/api/"+t,autoOpen:!1});u.uploaderEvents[s.id]=new v(u.uppy),u.onFileRemove(s.id,function(){r.send("pause",{}),i.abort(),o("upload "+s.id+" was removed")}),u.onCancelAll(s.id,function(){r.send("pause",{}),i.abort(),o("upload "+s.id+" was canceled")}),u.onRetry(s.id,function(){r.send("pause",{}),r.send("resume",{})}),u.onRetryAll(s.id,function(){r.send("pause",{}),r.send("resume",{})}),r.on("progress",function(e){return h(u,e,s)}),r.on("success",function(e){var t=l.getResponseData(e.response.responseText,e.response),n=t[l.responseUrlFieldName],r={status:e.response.status,body:t,uploadURL:n};return u.uppy.emit("upload-success",s,r),i.done(),u.uploaderEvents[s.id]&&(u.uploaderEvents[s.id].remove(),u.uploaderEvents[s.id]=null),o()}),r.on("error",function(e){var t=e.response,n=t?l.getResponseError(t.responseText,t):p(new Error(e.error.message),{cause:e.error});u.uppy.emit("upload-error",s,n),i.done(),u.uploaderEvents[s.id]&&(u.uploaderEvents[s.id].remove(),u.uploaderEvents[s.id]=null),a(n)});var i=u.requests.run(function(){return r.open(),s.isPaused&&r.send("pause",{}),function(){return r.close()}})}).catch(function(e){u.uppy.emit("upload-error",s,e),a(e)})})},r.uploadBundle=function(l){var c=this;return new Promise(function(i,o){var e=c.opts.endpoint,t=c.opts.method,n=c.uppy.getState().xhrUpload,r=c.createBundledUpload(l,p({},c.opts,n||{})),a=new XMLHttpRequest,s=new y(c.opts.timeout,function(){a.abort();var e=new Error(c.i18n("timedOut",{seconds:Math.ceil(c.opts.timeout/1e3)}));u(e),o(e)}),u=function(t){l.forEach(function(e){c.uppy.emit("upload-error",e,t)})};a.upload.addEventListener("loadstart",function(e){c.uppy.log("[XHRUpload] started uploading bundle"),s.progress()}),a.upload.addEventListener("progress",function(t){s.progress(),t.lengthComputable&&l.forEach(function(e){c.uppy.emit("upload-progress",e,{uploader:c,bytesUploaded:t.loaded/t.total*e.size,bytesTotal:e.size})})}),a.addEventListener("load",function(e){if(s.done(),c.opts.validateStatus(e.target.status,a.responseText,a)){var t=c.opts.getResponseData(a.responseText,a),n={status:e.target.status,body:t};return l.forEach(function(e){c.uppy.emit("upload-success",e,n)}),i()}var r=c.opts.getResponseError(a.responseText,a)||new Error("Upload error");return r.request=a,u(r),o(r)}),a.addEventListener("error",function(e){s.done();var t=c.opts.getResponseError(a.responseText,a)||new Error("Upload error");return u(t),o(t)}),c.uppy.on("cancel-all",function(){s.done(),a.abort()}),a.open(t.toUpperCase(),e,!0),a.withCredentials=c.opts.withCredentials,""!==c.opts.responseType&&(a.responseType=c.opts.responseType),Object.keys(c.opts.headers).forEach(function(e){a.setRequestHeader(e,c.opts.headers[e])}),a.send(r),l.forEach(function(e){c.uppy.emit("upload-started",e)})})},r.uploadFiles=function(i){var o=this,e=i.map(function(e,t){var n=parseInt(t,10)+1,r=i.length;return e.error?Promise.reject(new Error(e.error)):e.isRemote?o.uploadRemote(e,n,r):o.upload(e,n,r)});return l(e)},r.onFileRemove=function(t,n){this.uploaderEvents[t].on("file-removed",function(e){t===e.id&&n(e.id)})},r.onRetry=function(t,n){this.uploaderEvents[t].on("upload-retry",function(e){t===e&&n()})},r.onRetryAll=function(t,n){var r=this;this.uploaderEvents[t].on("retry-all",function(e){r.uppy.getFile(t)&&n()})},r.onCancelAll=function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",function(){n.uppy.getFile(e)&&t()})},r.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();0!==this.opts.limit||this.opts.__queue||this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var n=e.map(function(e){return t.uppy.getFile(e)});if(this.opts.bundle){if(n.some(function(e){return e.isRemote}))throw new Error("Can’t upload remote files when bundle: true option is set");return this.uploadBundle(n)}return this.uploadFiles(n).then(function(){return null})},r.install=function(){var e;this.opts.bundle&&(e=this.uppy.getState().capabilities,this.uppy.setState({capabilities:p({},e,{individualCancellation:!1})})),this.uppy.addUploader(this.handleUpload)},r.uninstall=function(){var e;this.opts.bundle&&(e=this.uppy.getState().capabilities,this.uppy.setState({capabilities:p({},e,{individualCancellation:!0})})),this.uppy.removeUploader(this.handleUpload)},n}(o),r.VERSION="1.6.8",i)},function(e,t,n){"use strict";var r=n(57),i=n(156),o=n(158),a=n(159);e.exports={RequestClient:r,Provider:i,SearchProvider:o,Socket:a}},function(e,t,n){"use strict";function i(e){var r="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return o(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}function o(e,t,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(t){var e,n;function r(){var e=t.call(this,"Authorization required")||this;return e.name="AuthError",e.isAuthError=!0,e}return n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n,r}(i(Error));e.exports=r},function(e,t,n){var r=n(90);e.exports=function(){return fetch.apply(void 0,arguments).catch(function(e){throw"AbortError"===e.name?e:new r(e)})}},function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r=n(57),a=n(157);e.exports=function(r){var e,t;function n(e,t){var n=r.call(this,e,t)||this;return n.provider=t.provider,n.id=n.provider,n.name=n.opts.name||n.id.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),n.pluginId=n.opts.pluginId,n.tokenKey="companion-"+n.pluginId+"-auth-token",n}t=r,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=n.prototype;return i.headers=function(){return Promise.all([r.prototype.headers.call(this),this.getAuthToken()]).then(function(e){return o({},e[0],{"uppy-auth-token":e[1]})})},i.onReceiveResponse=function(e){e=r.prototype.onReceiveResponse.call(this,e);var t=this.uppy.getPlugin(this.pluginId),n=t.getPluginState().authenticated?401!==e.status:e.status<400;return t.setPluginState({authenticated:n}),e},i.setAuthToken=function(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)},i.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},i.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},i.fileUrl=function(e){return this.hostname+"/"+this.id+"/get/"+e},i.list=function(e){return this.get(this.id+"/list/"+(e||""))},i.logout=function(){var t=this;return this.get(this.id+"/logout").then(function(e){return Promise.all([e,t.uppy.getPlugin(t.pluginId).storage.removeItem(t.tokenKey)])}).then(function(e){return e[0]})},n.initPlugin=function(e,t,n){if(e.type="acquirer",e.files=[],n&&(e.opts=o({},n,t)),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){var r=t.companionAllowedHosts;if(!("string"==typeof r||Array.isArray(r)||r instanceof RegExp))throw new TypeError(e.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');e.opts.companionAllowedHosts=r}else/^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts="https://"+t.companionUrl.replace(/^\/\//,""):e.opts.companionAllowedHosts=t.companionUrl;e.storage=e.opts.storage||a},n}(r)},function(e,t,n){"use strict";e.exports.setItem=function(t,n){return new Promise(function(e){localStorage.setItem(t,n),e()})},e.exports.getItem=function(e){return Promise.resolve(localStorage.getItem(e))},e.exports.removeItem=function(t){return new Promise(function(e){localStorage.removeItem(t),e()})}},function(e,t,n){"use strict";var r=n(57);e.exports=function(r){var e,t;function n(e,t){var n=r.call(this,e,t)||this;return n.provider=t.provider,n.id=n.provider,n.name=n.opts.name||n.id.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),n.pluginId=n.opts.pluginId,n}t=r,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=n.prototype;return i.fileUrl=function(e){return this.hostname+"/search/"+this.id+"/get/"+e},i.search=function(e,t){return t=t?"&"+t:"",this.get("search/"+this.id+"/list?q="+encodeURIComponent(e)+t)},n}(r)},function(e,t,n){var r=n(86);e.exports=function(){function e(e){this.opts=e,this._queued=[],this.isOpen=!1,this.emitter=r(),this._handleMessage=this._handleMessage.bind(this),this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this),e&&!1===e.autoOpen||this.open()}var t=e.prototype;return t.open=function(){var n=this;this.socket=new WebSocket(this.opts.target),this.socket.onopen=function(e){for(n.isOpen=!0;0<n._queued.length&&n.isOpen;){var t=n._queued[0];n.send(t.action,t.payload),n._queued=n._queued.slice(1)}},this.socket.onclose=function(e){n.isOpen=!1},this.socket.onmessage=this._handleMessage},t.close=function(){this.socket&&this.socket.close()},t.send=function(e,t){this.isOpen?this.socket.send(JSON.stringify({action:e,payload:t})):this._queued.push({action:e,payload:t})},t.on=function(e,t){this.emitter.on(e,t)},t.emit=function(e,t){this.emitter.emit(e,t)},t.once=function(e,t){this.emitter.once(e,t)},t._handleMessage=function(e){try{var t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(e){console.log(e)}},e}()},function(e,t,n){var r=n(55);e.exports=r(function(e,t,n){var r=t.progress,i=t.bytesUploaded,o=t.bytesTotal;r&&(e.uppy.log("Upload progress: "+r),e.uppy.emit("upload-progress",n,{uploader:e,bytesUploaded:i,bytesTotal:o}))},300,{leading:!0,trailing:!0})},function(e,t){e.exports=function(e){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(e)[1];return(/^http:\/\//i.test(e)?"ws":"wss")+"://"+t}},function(e,t){e.exports=function(e){var t=[],n=[];function r(e){t.push(e)}function i(e){n.push(e)}return Promise.all(e.map(function(e){return e.then(r,i)})).then(function(){return{successful:t,failed:n}})}},function(e,t){e.exports=function(){function e(e){this._events=[],this._emitter=e}var t=e.prototype;return t.on=function(e,t){return this._events.push([e,t]),this._emitter.on(e,t)},t.remove=function(){var r=this;this._events.forEach(function(e){var t=e[0],n=e[1];r._emitter.off(t,n)})},e}()},function(e,t){var n=function(){function e(e,t){this._timeout=e,this._onTimedOut=t,this._isDone=!1,this._aliveTimer=null,this._onTimedOut=this._onTimedOut.bind(this)}var t=e.prototype;return t.progress=function(){this._isDone||0<this._timeout&&(this._aliveTimer&&clearTimeout(this._aliveTimer),this._aliveTimer=setTimeout(this._onTimedOut,this._timeout))},t.done=function(){this._aliveTimer&&(clearTimeout(this._aliveTimer),this._aliveTimer=null),this._isDone=!0},e}();e.exports=n},function(e,t){e.exports=function(){function e(e){this.limit="number"!=typeof e||0===e?1/0:e,this.activeRequests=0,this.queuedHandlers=[]}var t=e.prototype;return t._call=function(e){var t=this;this.activeRequests+=1;var n,r=!1;try{n=e()}catch(e){throw--this.activeRequests,e}return{abort:function(){r||(r=!0,--t.activeRequests,n(),t._queueNext())},done:function(){r||(r=!0,--t.activeRequests,t._queueNext())}}},t._queueNext=function(){var e=this;Promise.resolve().then(function(){e._next()})},t._next=function(){var e,t;this.activeRequests>=this.limit||0!==this.queuedHandlers.length&&(e=this.queuedHandlers.shift(),t=this._call(e.fn),e.abort=t.abort,e.done=t.done)},t._queue=function(e,t){var n=this;void 0===t&&(t={});var r={fn:e,priority:t.priority||0,abort:function(){n._dequeue(r)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(this.queuedHandlers,function(e){return r.priority>e.priority});return-1===i?this.queuedHandlers.push(r):this.queuedHandlers.splice(i,0,r),r},t._dequeue=function(e){var t=this.queuedHandlers.indexOf(e);-1!==t&&this.queuedHandlers.splice(t,1)},t.run=function(e,t){return this.activeRequests<this.limit?this._call(e):this._queue(e,t)},t.wrapPromiseFunction=function(s,u){var l=this;return function(){for(var o,e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];var n=new Promise(function(r,i){o=l.run(function(){var t,n;try{n=Promise.resolve(s.apply(void 0,a))}catch(e){n=Promise.reject(e)}return n.then(function(e){t?i(t):(o.done(),r(e))},function(e){t?i(t):(o.done(),i(e))}),function(){t=new Error("Cancelled")}},u)});return n.abort=function(){o.abort()},n}},e}()},function(e,t){e.exports=function(e){return!!e&&(0!==e.readyState&&4!==e.readyState||0===e.status)}},function(e,t,n){var r,i;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=n(0).h,u=n(18).Plugin,l=n(26),P=n(168),c=n(94),p=n(191),f=n(192),d=n(203),h=n(32),g=n(204),v=n(209),y=n(54),m=n(98).default||n(98),b=n(210),w=n(99).default||n(99);function A(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n}function k(){return s("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},s("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}e.exports=(i=r=function(r){var e,t;function n(e,t){var S=r.call(this,e,t)||this;S.setOptions=function(e){r.prototype.setOptions.call(a(S),e),S.i18nInit()},S.i18nInit=function(){S.translator=new l([S.defaultLocale,S.uppy.locale,S.opts.locale]),S.i18n=S.translator.translate.bind(S.translator),S.i18nArray=S.translator.translateArray.bind(S.translator),S.setPluginState()},S.removeTarget=function(t){var e=S.getPluginState().targets.filter(function(e){return e.id!==t.id});S.setPluginState({targets:e})},S.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,r=e.type;if("acquirer"===r||"progressindicator"===r||"editor"===r){var i={id:t,name:n,type:r},o=S.getPluginState().targets.slice();return o.push(i),S.setPluginState({targets:o}),S.el}S.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},S.hideAllPanels=function(){var e={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1},t=S.getPluginState();t.activePickerPanel===e.activePickerPanel&&t.showAddFilesPanel===e.showAddFilesPanel&&t.showFileEditor===e.showFileEditor&&t.activeOverlayType===e.activeOverlayType||S.setPluginState(e)},S.showPanel=function(t){var e=S.getPluginState().targets.filter(function(e){return"acquirer"===e.type&&e.id===t})[0];S.setPluginState({activePickerPanel:e,activeOverlayType:"PickerPanel"})},S.canEditFile=function(t){var e=S.getPluginState().targets;return S._getEditors(e).some(function(e){return S.uppy.getPlugin(e.id).canEditFile(t)})},S.openFileEditor=function(t){var e=S.getPluginState().targets,n=S._getEditors(e);S.setPluginState({showFileEditor:!0,fileCardFor:t.id||null,activeOverlayType:"FileEditor"}),n.forEach(function(e){S.uppy.getPlugin(e.id).selectFile(t)})},S.openModal=function(){var e=A(),t=e.promise,n=e.resolve;return S.savedScrollPosition=window.pageYOffset,S.savedActiveElement=document.activeElement,S.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),S.opts.animateOpenClose&&S.getPluginState().isClosing?S.el.addEventListener("animationend",function e(){S.setPluginState({isHidden:!1}),S.el.removeEventListener("animationend",e,!1),n()},!1):(S.setPluginState({isHidden:!1}),n()),S.opts.browserBackButtonClose&&S.updateBrowserHistory(),document.addEventListener("keydown",S.handleKeyDownInModal),S.uppy.emit("dashboard:modal-open"),t},S.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,n=void 0===t||t,r=S.getPluginState(),i=r.isHidden,o=r.isClosing;if(!i&&!o){var a=A(),s=a.promise,u=a.resolve;return S.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),S.opts.animateOpenClose?(S.setPluginState({isClosing:!0}),S.el.addEventListener("animationend",function e(){S.setPluginState({isHidden:!0,isClosing:!1}),S.superFocus.cancel(),S.savedActiveElement.focus(),S.el.removeEventListener("animationend",e,!1),u()},!1)):(S.setPluginState({isHidden:!0}),S.superFocus.cancel(),S.savedActiveElement.focus(),u()),document.removeEventListener("keydown",S.handleKeyDownInModal),n&&S.opts.browserBackButtonClose&&history.state&&history.state[S.modalName]&&history.go(-1),S.uppy.emit("dashboard:modal-closed"),s}},S.isModalOpen=function(){return!S.getPluginState().isHidden||!1},S.requestCloseModal=function(){return S.opts.onRequestCloseModal?S.opts.onRequestCloseModal():S.closeModal()},S.setDarkModeCapability=function(e){var t=S.uppy.getState().capabilities;S.uppy.setState({capabilities:o({},t,{darkMode:e})})},S.handleSystemDarkModeChange=function(e){var t=e.matches;S.uppy.log("[Dashboard] Dark mode is "+(t?"on":"off")),S.setDarkModeCapability(t)},S.toggleFileCard=function(e){e?S.uppy.emit("dashboard:file-edit-start"):S.uppy.emit("dashboard:file-edit-complete"),S.setPluginState({fileCardFor:e||null,activeOverlayType:e?"FileCard":null})},S.toggleAddFilesPanel=function(e){S.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},S.addFiles=function(e){var t=e.map(function(e){return{source:S.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}});try{S.uppy.addFiles(t)}catch(e){S.uppy.log(e)}},S.startListeningToResize=function(){S.resizeObserver=new m(function(e,t){var n=e[0].contentRect,r=n.width,i=n.height;S.uppy.log("[Dashboard] resized: "+r+" / "+i,"debug"),S.setPluginState({containerWidth:r,containerHeight:i,areInsidesReadyToBeVisible:!0})}),S.resizeObserver.observe(S.el.querySelector(".uppy-Dashboard-inner")),S.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var e=S.getPluginState(),t=!S.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(S.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),S.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},S.stopListeningToResize=function(){S.resizeObserver.disconnect(),clearTimeout(S.makeDashboardInsidesVisibleAnywayTimeout)},S.recordIfFocusedOnUppyRecently=function(e){S.el.contains(e.target)?S.ifFocusedOnUppyRecently=!0:(S.ifFocusedOnUppyRecently=!1,S.superFocus.cancel())},S.updateBrowserHistory=function(){var e;history.state&&history.state[S.modalName]||history.pushState(o({},history.state,((e={})[S.modalName]=!0,e)),""),window.addEventListener("popstate",S.handlePopState,!1)},S.handlePopState=function(e){!S.isModalOpen()||e.state&&e.state[S.modalName]||S.closeModal({manualClose:!1}),!S.isModalOpen()&&e.state&&e.state[S.modalName]&&history.go(-1)},S.handleKeyDownInModal=function(e){27===e.keyCode&&S.requestCloseModal(e),9===e.keyCode&&v.forModal(e,S.getPluginState().activeOverlayType,S.el)},S.handleClickOutside=function(){S.opts.closeModalOnClickOutside&&S.requestCloseModal()},S.handlePaste=function(t){S.uppy.iteratePlugins(function(e){"acquirer"===e.type&&e.handleRootPaste&&e.handleRootPaste(t)});var e=h(t.clipboardData.files);S.addFiles(e)},S.handleInputChange=function(e){e.preventDefault();var t=h(e.target.files);S.addFiles(t)},S.handleDragOver=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",clearTimeout(S.removeDragOverClassTimeout),S.setPluginState({isDraggingOver:!0})},S.handleDragLeave=function(e){e.preventDefault(),e.stopPropagation(),clearTimeout(S.removeDragOverClassTimeout),S.removeDragOverClassTimeout=setTimeout(function(){S.setPluginState({isDraggingOver:!1})},50)},S.handleDrop=function(t,e){t.preventDefault(),t.stopPropagation(),clearTimeout(S.removeDragOverClassTimeout),S.setPluginState({isDraggingOver:!1}),S.uppy.iteratePlugins(function(e){"acquirer"===e.type&&e.handleRootDrop&&e.handleRootDrop(t)});var n=!1;g(t.dataTransfer,{logDropError:function(e){S.uppy.log(e,"error"),n||(S.uppy.info(e.message,"error"),n=!0)}}).then(function(e){0<e.length&&(S.uppy.log("[Dashboard] Files were dropped"),S.addFiles(e))})},S.handleRequestThumbnail=function(e){S.opts.waitForThumbnailsBeforeUpload||S.uppy.emit("thumbnail:request",e)},S.handleCancelThumbnail=function(e){S.opts.waitForThumbnailsBeforeUpload||S.uppy.emit("thumbnail:cancel",e)},S.handleKeyDownInInline=function(e){9===e.keyCode&&v.forInline(e,S.getPluginState().activeOverlayType,S.el)},S.handlePasteOnBody=function(e){S.el.contains(document.activeElement)&&S.handlePaste(e)},S.handleComplete=function(e){var t=e.failed;S.opts.closeAfterFinish&&0===t.length&&S.requestCloseModal()},S._openFileEditorWhenFilesAdded=function(e){var t=e[0];S.canEditFile(t)&&S.openFileEditor(t)},S.initEvents=function(){var e;S.opts.trigger&&!S.opts.inline&&((e=d(S.opts.trigger))?e.forEach(function(e){return e.addEventListener("click",S.openModal)}):S.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")),S.startListeningToResize(),document.addEventListener("paste",S.handlePasteOnBody),S.uppy.on("plugin-remove",S.removeTarget),S.uppy.on("file-added",S.hideAllPanels),S.uppy.on("dashboard:modal-closed",S.hideAllPanels),S.uppy.on("file-editor:complete",S.hideAllPanels),S.uppy.on("complete",S.handleComplete),document.addEventListener("focus",S.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",S.recordIfFocusedOnUppyRecently,!0),S.opts.inline&&S.el.addEventListener("keydown",S.handleKeyDownInInline),S.opts.autoOpenFileEditor&&S.uppy.on("files-added",S._openFileEditorWhenFilesAdded)},S.removeEvents=function(){var e=d(S.opts.trigger);!S.opts.inline&&e&&e.forEach(function(e){return e.removeEventListener("click",S.openModal)}),S.stopListeningToResize(),document.removeEventListener("paste",S.handlePasteOnBody),window.removeEventListener("popstate",S.handlePopState,!1),S.uppy.off("plugin-remove",S.removeTarget),S.uppy.off("file-added",S.hideAllPanels),S.uppy.off("dashboard:modal-closed",S.hideAllPanels),S.uppy.off("complete",S.handleComplete),document.removeEventListener("focus",S.recordIfFocusedOnUppyRecently),document.removeEventListener("click",S.recordIfFocusedOnUppyRecently),S.opts.inline&&S.el.removeEventListener("keydown",S.handleKeyDownInInline),S.opts.autoOpenFileEditor&&S.uppy.off("files-added",S._openFileEditorWhenFilesAdded)},S.superFocusOnEachUpdate=function(){var e=S.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=S.uppy.getState().info.isHidden,r=!S.opts.inline;n&&(r||e||t&&S.ifFocusedOnUppyRecently)?S.superFocus(S.el,S.getPluginState().activeOverlayType):S.superFocus.cancel()},S.afterUpdate=function(){S.superFocusOnEachUpdate()},S.cancelUpload=function(e){S.uppy.removeFile(e)},S.saveFileCard=function(e,t){S.uppy.setFileMeta(t,e),S.toggleFileCard()},S._attachRenderFunctionToTarget=function(e){var t=S.uppy.getPlugin(e.id);return o({},e,{icon:t.icon||S.opts.defaultPickerIcon,render:t.render})},S._isTargetSupported=function(e){var t=S.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()},S._getAcquirers=w(function(e){return e.filter(function(e){return"acquirer"===e.type&&S._isTargetSupported(e)}).map(S._attachRenderFunctionToTarget)}),S._getProgressIndicators=w(function(e){return e.filter(function(e){return"progressindicator"===e.type}).map(S._attachRenderFunctionToTarget)}),S._getEditors=w(function(e){return e.filter(function(e){return"editor"===e.type}).map(S._attachRenderFunctionToTarget)}),S.render=function(e){var t=S.getPluginState(),n=e.files,r=e.capabilities,i=e.allowNewUpload,o=Object.keys(n).filter(function(e){return!n[e].progress.uploadStarted}),a=Object.keys(n).filter(function(e){return n[e].progress.uploadStarted}),s=Object.keys(n).filter(function(e){return n[e].isPaused}),u=Object.keys(n).filter(function(e){return n[e].progress.uploadComplete}),l=Object.keys(n).filter(function(e){return n[e].error}),c=Object.keys(n).filter(function(e){return!n[e].progress.uploadComplete&&n[e].progress.uploadStarted}),p=c.filter(function(e){return!n[e].isPaused}),f=Object.keys(n).filter(function(e){return n[e].progress.preprocess||n[e].progress.postprocess}),d=0<a.length,h=100===e.totalProgress&&u.length===Object.keys(n).length&&0===f.length,g=d&&l.length===a.length,v=0!==c.length&&s.length===c.length,y=S._getAcquirers(t.targets),m=S._getProgressIndicators(t.targets),b=S._getEditors(t.targets),w="auto"===S.opts.theme?r.darkMode?"dark":"light":S.opts.theme;return["files","folders","both"].indexOf(S.opts.fileManagerSelectionType)<0&&(S.opts.fileManagerSelectionType="files",console.error('Unsupported option for "fileManagerSelectionType". Using default of "'+S.opts.fileManagerSelectionType+'".')),P({state:e,isHidden:t.isHidden,files:n,newFiles:o,uploadStartedFiles:a,completeFiles:u,erroredFiles:l,inProgressFiles:c,inProgressNotPausedFiles:p,processingFiles:f,isUploadStarted:d,isAllComplete:h,isAllErrored:g,isAllPaused:v,totalFileCount:Object.keys(n).length,totalProgress:e.totalProgress,allowNewUpload:i,acquirers:y,theme:w,activePickerPanel:t.activePickerPanel,showFileEditor:t.showFileEditor,animateOpenClose:S.opts.animateOpenClose,isClosing:t.isClosing,getPlugin:S.uppy.getPlugin,progressindicators:m,editors:b,autoProceed:S.uppy.opts.autoProceed,id:S.id,closeModal:S.requestCloseModal,handleClickOutside:S.handleClickOutside,handleInputChange:S.handleInputChange,handlePaste:S.handlePaste,inline:S.opts.inline,showPanel:S.showPanel,hideAllPanels:S.hideAllPanels,log:S.uppy.log,i18n:S.i18n,i18nArray:S.i18nArray,removeFile:S.uppy.removeFile,uppy:S.uppy,info:S.uppy.info,note:S.opts.note,metaFields:t.metaFields,resumableUploads:r.resumableUploads||!1,individualCancellation:r.individualCancellation,isMobileDevice:r.isMobileDevice,pauseUpload:S.uppy.pauseResume,retryUpload:S.uppy.retryUpload,cancelUpload:S.cancelUpload,cancelAll:S.uppy.cancelAll,fileCardFor:t.fileCardFor,toggleFileCard:S.toggleFileCard,toggleAddFilesPanel:S.toggleAddFilesPanel,showAddFilesPanel:t.showAddFilesPanel,saveFileCard:S.saveFileCard,openFileEditor:S.openFileEditor,canEditFile:S.canEditFile,width:S.opts.width,height:S.opts.height,showLinkToFileUploadResult:S.opts.showLinkToFileUploadResult,fileManagerSelectionType:S.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:S.opts.proudlyDisplayPoweredByUppy,hideCancelButton:S.opts.hideCancelButton,hideRetryButton:S.opts.hideRetryButton,hidePauseResumeButton:S.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:S.opts.showRemoveButtonAfterComplete,containerWidth:t.containerWidth,containerHeight:t.containerHeight,areInsidesReadyToBeVisible:t.areInsidesReadyToBeVisible,isTargetDOMEl:S.isTargetDOMEl,parentElement:S.el,allowedFileTypes:S.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:S.uppy.opts.restrictions.maxNumberOfFiles,showSelectedFiles:S.opts.showSelectedFiles,handleRequestThumbnail:S.handleRequestThumbnail,handleCancelThumbnail:S.handleCancelThumbnail,isDraggingOver:t.isDraggingOver,handleDragOver:S.handleDragOver,handleDragLeave:S.handleDragLeave,handleDrop:S.handleDrop})},S.discoverProviderPlugins=function(){S.uppy.iteratePlugins(function(e){e&&!e.target&&e.opts&&e.opts.target===S.constructor&&S.addTarget(e)})},S.install=function(){S.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:S.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=S.opts,t=e.inline,n=e.closeAfterFinish;if(t&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");S.uppy.opts.allowMultipleUploads&&n&&S.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploads` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var r=S.opts.target;r&&S.mount(r,a(S)),(S.opts.plugins||[]).forEach(function(e){var t=S.uppy.getPlugin(e);t&&t.mount(a(S),t)}),S.opts.disableStatusBar||S.uppy.use(c,{id:S.id+":StatusBar",target:a(S),hideUploadButton:S.opts.hideUploadButton,hideRetryButton:S.opts.hideRetryButton,hidePauseResumeButton:S.opts.hidePauseResumeButton,hideCancelButton:S.opts.hideCancelButton,showProgressDetails:S.opts.showProgressDetails,hideAfterFinish:S.opts.hideProgressAfterFinish,locale:S.opts.locale,doneButtonHandler:S.opts.doneButtonHandler}),S.opts.disableInformer||S.uppy.use(p,{id:S.id+":Informer",target:a(S)}),S.opts.disableThumbnailGenerator||S.uppy.use(f,{id:S.id+":ThumbnailGenerator",thumbnailWidth:S.opts.thumbnailWidth,thumbnailType:S.opts.thumbnailType,waitForThumbnailsBeforeUpload:S.opts.waitForThumbnailsBeforeUpload,lazy:!S.opts.waitForThumbnailsBeforeUpload}),S.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var i=!!S.darkModeMediaQuery&&S.darkModeMediaQuery.matches;S.uppy.log("[Dashboard] Dark mode is "+(i?"on":"off")),S.setDarkModeCapability(i),"auto"===S.opts.theme&&S.darkModeMediaQuery.addListener(S.handleSystemDarkModeChange),S.discoverProviderPlugins(),S.initEvents()},S.uninstall=function(){var e,t,n;S.opts.disableInformer||(e=S.uppy.getPlugin(S.id+":Informer"))&&S.uppy.removePlugin(e),S.opts.disableStatusBar||(t=S.uppy.getPlugin(S.id+":StatusBar"))&&S.uppy.removePlugin(t),S.opts.disableThumbnailGenerator||(n=S.uppy.getPlugin(S.id+":ThumbnailGenerator"))&&S.uppy.removePlugin(n),(S.opts.plugins||[]).forEach(function(e){var t=S.uppy.getPlugin(e);t&&t.unmount()}),"auto"===S.opts.theme&&S.darkModeMediaQuery.removeListener(S.handleSystemDarkModeChange),S.unmount(),S.removeEvents()},S.id=S.opts.id||"Dashboard",S.title="Dashboard",S.type="orchestrator",S.modalName="uppy-Dashboard-"+y();var n={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!(S.defaultLocale={strings:{closeModal:"Close Modal",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"File Uploader Window (Press escape to close)",dashboardTitle:"File Uploader",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source: %{name}",done:"Done",back:"Back",addMore:"Add more",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",cancel:"Cancel",myDevice:"My Device",dropPasteFiles:"Drop files here, paste or %{browseFiles}",dropPasteFolders:"Drop files here, paste or %{browseFolders}",dropPasteBoth:"Drop files here, paste, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, paste, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, paste, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, paste, %{browseFiles}, %{browseFolders} or import from:",dropHint:"Drop your files here",browseFiles:"browse files",browseFolders:"browse folders",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy2:"%{backwardsCompat} %{uppy}",poweredBy:"Powered by"}}),width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:k,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){S.uppy.reset(),S.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return S.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1};return S.opts=o({},n,t),S.i18nInit(),S.superFocus=b(),S.ifFocusedOnUppyRecently=!1,S.makeDashboardInsidesVisibleAnywayTimeout=null,S.removeDragOverClassTimeout=null,S}return t=r,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,n}(u),r.VERSION="1.14.0",i)},function(e,t,n){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=n(169),u=n(92),l=n(179),c=n(180),p=n(181),f=n(182),d=n(183),h=n(184),g=n(11),v=n(185),y=n(0).h;e.exports=function(t){var e=0===t.totalFileCount,n=576<t.containerWidth,r=g({"uppy-Root":t.isTargetDOMEl,"uppy-Dashboard":!0,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":576<t.containerWidth,"uppy-size--lg":700<t.containerWidth,"uppy-size--xl":900<t.containerWidth,"uppy-size--height-md":400<t.containerHeight,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible}),i=1;900<t.containerWidth?i=5:700<t.containerWidth?i=4:576<t.containerWidth&&(i=3);var o=t.showSelectedFiles&&!e;return y("div",{class:r,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":v(),"aria-hidden":t.inline?"false":t.isHidden,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onpaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},y("div",{class:"uppy-Dashboard-overlay",tabindex:-1,onclick:t.handleClickOutside}),y("div",{class:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:y("button",{class:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onclick:t.closeModal},y("span",{"aria-hidden":"true"},"×")),y("div",{class:"uppy-Dashboard-innerWrap"},y("div",{class:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),o&&y(f,t),o?y(s,a({},t,{itemsPerRow:i})):y(u,a({},t,{isSizeMD:n})),y(h,null,t.showAddFilesPanel?y(l,a({key:"AddFiles"},t,{isSizeMD:n})):null),y(h,null,t.fileCardFor?y(d,a({key:"FileCard"},t)):null),y(h,null,t.activePickerPanel?y(c,a({key:"Picker"},t)):null),y(h,null,t.showFileEditor?y(p,a({key:"Editor"},t)):null),y("div",{class:"uppy-Dashboard-progressindicators"},t.progressindicators.map(function(e){return t.getPlugin(e.id).render(t.state)})))))}},function(e,t,n){function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=n(170),f=n(178),d=n(11),h=n(0).h;e.exports=function(t){var e,n,r,i,o=0===t.totalFileCount,a=d("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":o}),s=1===t.itemsPerRow?71:200,u={id:t.id,error:t.error,i18n:t.i18n,log:t.log,info:t.info,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,retryUpload:t.retryUpload,pauseUpload:t.pauseUpload,cancelUpload:t.cancelUpload,toggleFileCard:t.toggleFileCard,removeFile:t.removeFile,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},l=(e=Object.keys(t.files),n=t.itemsPerRow,r=[],i=[],e.forEach(function(e,t){i.length<n?i.push(e):(r.push(i),i=[e])}),i.length&&r.push(i),r);return h(f,{class:a,role:"list",data:l,renderRow:function(e){return h("div",{role:"presentation",key:e[0]},e.map(function(e){return h(p,c({key:e},u,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,file:t.files[e]}))}))},rowHeight:s})}},function(e,t,n){var r=n(0),u=r.h,i=r.Component,l=n(11),o=n(171),c=n(172),p=n(173),f=n(174),d=n(176);e.exports=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.shouldComponentUpdate=function(e){return!o(this.props,e)},i.componentDidMount=function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)},i.componentWillUnmount=function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)},i.render=function(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,a=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(a=!0);var s=l({"uppy-Dashboard-Item":!0,"is-inprogress":i,"is-processing":t,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation});return u("div",{class:s,id:"uppy_"+e.id,role:this.props.role},u("div",{class:"uppy-Dashboard-Item-preview"},u(c,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult}),u(p,{file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,pauseUpload:this.props.pauseUpload,cancelUpload:this.props.cancelUpload,retryUpload:this.props.retryUpload,i18n:this.props.i18n})),u("div",{class:"uppy-Dashboard-Item-fileInfoAndButtons"},u(f,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n}),u(d,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:a,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,removeFile:this.props.removeFile,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,i18n:this.props.i18n,log:this.props.log,info:this.props.info})))},r}(i)},function(e,t){e.exports=function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){var r=n(0).h,i=n(91),o=n(58);e.exports=function(e){return r("div",{class:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&r("a",{class:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name}),r(i,{file:e.file}))}},function(e,t,n){var r=n(0).h;function i(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function o(t){return r("div",{class:"uppy-Dashboard-Item-progress"},r("button",{class:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":i(t),title:i(t),onclick:function(){var e;(e=t).isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.pauseUpload(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.cancelUpload(e.file.id):e.retryUpload(e.file.id))}},t.children))}function a(e){var t=e.children;return r("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",class:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function s(e){var t=e.progress,n=2*Math.PI*15;return r("g",null,r("circle",{class:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),r("circle",{class:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}e.exports=function(e){return e.file.progress.uploadStarted?e.isUploaded?r("div",{class:"uppy-Dashboard-Item-progress"},r("div",{class:"uppy-Dashboard-Item-progressIndicator"},r(a,null,r("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),r("polygon",{class:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.error&&!e.hideRetryButton?r(o,e,r("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},r("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),r("path",{d:"M7.9 3H10v2H7.9z"}),r("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),r("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?r(o,e,r(a,null,r(s,{progress:e.file.progress.percentage}),e.file.isPaused?r("polygon",{class:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):r("g",{class:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},r("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),r("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?r("div",{class:"uppy-Dashboard-Item-progress"},r("div",{class:"uppy-Dashboard-Item-progressIndicator"},r(a,null,r(s,{progress:e.file.progress.percentage})))):r(o,e,r(a,null,r(s,{progress:e.file.progress.percentage}),r("polygon",{class:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}},function(e,t,n){function i(n){return n.file.source&&n.file.source!==n.id&&a("div",{class:"uppy-Dashboard-Item-sourceIcon"},n.acquirers.map(function(e){if(e.id===n.file.source)return t=e,a("span",{title:n.i18n("fileSource",{name:t.name})},t.icon());var t}))}function o(e){var t=e.file,n=e.onClick;return t.error?a("span",{class:"uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",onclick:n},"?"):null}var a=n(0).h,s=n(56),u=n(175);e.exports=function(e){return a("div",{class:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.file.source},(r=(n=e).containerWidth<=352?35:n.containerWidth<=576?60:30,a("div",{class:"uppy-Dashboard-Item-name",title:n.file.meta.name},u(n.file.meta.name,r))),a("div",{class:"uppy-Dashboard-Item-status"},(t=e).file.data.size&&a("div",{class:"uppy-Dashboard-Item-statusSize"},s(t.file.data.size)),i(e),a(o,{file:e.file,onClick:function(){alert(e.file.error)}})));var t,n,r}},function(e,t){e.exports=function(e,t){if(e.length<=t)return e;if(t<="...".length)return e.substr(0,t);var n=t-"...".length,r=Math.ceil(n/2),i=Math.floor(n/2);return e.substr(0,r)+"..."+e.substr(e.length-i)}},function(e,t,n){var d=n(0).h,i=n(177);function h(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,i=e.canEditFile,o=e.i18n,a=e.onClick;return!n&&r&&0<r.length||!n&&i(t)?d("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":o("editFile")+" "+t.meta.name,title:o("editFile"),onclick:function(){return a()}},d("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},d("g",{"fill-rule":"evenodd"},d("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z","fill-rule":"nonzero"}),d("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),d("path",{"fill-rule":"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function g(e){var t=e.i18n,n=e.onClick;return d("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile"),title:t("removeFile"),onclick:function(){return n()}},d("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},d("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),d("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}function v(r){return d("button",{class:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r.i18n("copyLink"),title:r.i18n("copyLink"),onclick:function(e){return t=e,void i((n=r).file.uploadURL,n.i18n("copyLinkToClipboardFallback")).then(function(){n.log("Link copied to clipboard."),n.info(n.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(n.log).then(function(){return t.target.focus({preventScroll:!0})});var t,n}},d("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},d("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}e.exports=function(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.canEditFile,i=e.metaFields,o=e.showLinkToFileUploadResult,a=e.showRemoveButton,s=e.i18n,u=e.removeFile,l=e.toggleFileCard,c=e.openFileEditor,p=e.log,f=e.info;return d("div",{className:"uppy-Dashboard-Item-actionWrapper"},d(h,{i18n:s,file:t,uploadInProgressOrComplete:n,canEditFile:r,metaFields:i,onClick:function(){i&&0<i.length?l(t.id):c(t)}}),o&&t.uploadURL?d(v,{file:t,i18n:s,info:f,log:p}):null,a?d(g,{i18n:s,info:e.info,log:e.log,onClick:function(){return u(t.id,"removed-by-user")}}):null)}},function(e,t){e.exports=function(r,i){return i=i||"Copy the URL below",new Promise(function(e){var t=document.createElement("textarea");t.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),t.value=r,document.body.appendChild(t),t.select();function n(){document.body.removeChild(t),window.prompt(i,r),e()}try{return document.execCommand("copy")?(document.body.removeChild(t),e()):n()}catch(e){return document.body.removeChild(t),n()}})}},function(e,t,n){function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r=n(0),y=r.h,i=r.Component,m={position:"relative",width:"100%",minHeight:"100%"},b={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},o=function(n){var e,t;function r(e){var t=n.call(this,e)||this;return t.handleResize=function(){t.resize()},t.handleScroll=function(){t.setState({offset:t.base.scrollTop}),t.props.sync&&t.forceUpdate()},t.focusElement=null,t.state={offset:0,height:0},t}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=r.prototype;return i.resize=function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})},i.componentWillUpdate=function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)},i.componentDidUpdate=function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()},i.componentDidMount=function(){this.resize(),window.addEventListener("resize",this.handleResize)},i.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)},i.render=function(e){var t=e.data,n=e.rowHeight,r=e.renderRow,i=e.overscanCount,o=void 0===i?10:i,a=(e.sync,function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,["data","rowHeight","renderRow","overscanCount","sync"])),s=this.state,u=s.offset,l=s.height,c=Math.floor(u/n),p=Math.floor(l/n);o&&(c=Math.max(0,c-c%o),p+=o);var f=c+p+4,d=t.slice(c,f),h=v({},m,{height:t.length*n}),g=v({},b,{top:c*n});return y("div",v({onScroll:this.handleScroll},a),y("div",{role:"presentation",style:h},y("div",{role:"presentation",style:g},d.map(r))))},r}(i);e.exports=o},function(e,t,n){var r=n(0).h,i=n(11),o=n(92);e.exports=function(e){return r("div",{class:i("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},r("div",{class:"uppy-DashboardContent-bar"},r("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),r("button",{class:"uppy-DashboardContent-back",type:"button",onclick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),r(o,e))}},function(e,t,n){var r=n(0).h,i=n(11),o=n(93);e.exports=function(e){return r("div",{class:i("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--"+e.activePickerPanel.id,onDragOver:o,onDragLeave:o,onDrop:o,onPaste:o},r("div",{class:"uppy-DashboardContent-bar"},r("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("importFrom",{name:e.activePickerPanel.name})),r("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.hideAllPanels},e.i18n("done"))),r("div",{class:"uppy-DashboardContent-panelBody"},e.getPlugin(e.activePickerPanel.id).render(e.state)))}},function(e,t,n){var r=n(0).h,i=n(11);e.exports=function(t){var e=this.props.files[this.props.fileCardFor];return r("div",{class:i("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},r("div",{class:"uppy-DashboardContent-bar"},r("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:r("span",{class:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),r("button",{class:"uppy-DashboardContent-back",type:"button",onclick:t.hideAllPanels},t.i18n("done"))),r("div",{class:"uppy-DashboardContent-panelBody"},t.editors.map(function(e){return t.getPlugin(e.id).render(t.state)})))}},function(e,t,n){var r=n(0).h,u={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function i(e){switch(function(e,t,n,r){if(void 0===r&&(r={}),e)return u.STATE_ERROR;if(t)return u.STATE_COMPLETE;if(n)return u.STATE_PAUSED;for(var i=u.STATE_WAITING,o=Object.keys(r),a=0;a<o.length;a++){var s=r[o[a]].progress;if(s.uploadStarted&&!s.uploadComplete)return u.STATE_UPLOADING;s.preprocess&&i!==u.STATE_UPLOADING&&(i=u.STATE_PREPROCESSING),s.postprocess&&i!==u.STATE_UPLOADING&&i!==u.STATE_PREPROCESSING&&(i=u.STATE_POSTPROCESSING)}return i}(e.isAllErrored,e.isAllComplete,e.isAllPaused,e.files)){case"uploading":return e.i18n("uploadingXFiles",{smart_count:e.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return e.i18n("processingXFiles",{smart_count:e.processingFiles.length});case"paused":return e.i18n("uploadPaused");case"waiting":return e.i18n("xFilesSelected",{smart_count:e.newFiles.length});case"complete":return e.i18n("uploadComplete")}}e.exports=function(e){var t=e.allowNewUpload;return t&&e.maxNumberOfFiles&&(t=e.totalFileCount<e.maxNumberOfFiles),r("div",{class:"uppy-DashboardContent-bar"},e.isAllComplete||e.hideCancelButton?r("div",null):r("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.cancelAll},e.i18n("cancel")),r("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r(i,e)),t?r("button",{class:"uppy-DashboardContent-addMore",type:"button","aria-label":e.i18n("addMoreFiles"),title:e.i18n("addMoreFiles"),onclick:function(){return e.toggleAddFilesPanel(!0)}},r("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},r("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),r("span",{class:"uppy-DashboardContent-addMoreCaption"},e.i18n("addMore"))):r("div",null))}},function(e,t,n){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r=n(0),s=r.h,i=r.Component,u=n(11),l=n(58),c=n(93),p=n(91),o=function(o){var e,t;function n(e){var r=o.call(this,e)||this;r.saveOnEnter=function(e){var t;13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),t=r.props.files[r.props.fileCardFor],r.props.saveFileCard(r.state.formState,t.id))},r.updateMeta=function(e,t){var n;r.setState({formState:a({},r.state.formState,((n={})[t]=e,n))})},r.handleSave=function(){var e=r.props.fileCardFor;r.props.saveFileCard(r.state.formState,e)},r.handleCancel=function(){r.props.toggleFileCard()},r.renderMetaFields=function(){var e=r.props.metaFields||[],n={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(function(t){var e="uppy-Dashboard-FileCard-input-"+t.id;return s("fieldset",{key:t.id,class:"uppy-Dashboard-FileCard-fieldset"},s("label",{class:"uppy-Dashboard-FileCard-label",for:e},t.name),void 0!==t.render?t.render({value:r.state.formState[t.id],onChange:function(e){return r.updateMeta(e,t.id)},fieldCSSClasses:n},s):s("input",{class:n.text,id:e,type:t.type||"text",value:r.state.formState[t.id],placeholder:t.placeholder,onkeyup:r.saveOnEnter,onkeydown:r.saveOnEnter,onkeypress:r.saveOnEnter,oninput:function(e){return r.updateMeta(e.target.value,t.id)},"data-uppy-super-focusable":!0}))})};var t=r.props.files[r.props.fileCardFor],n=r.props.metaFields||[],i={};return n.forEach(function(e){i[e.id]=t.meta[e.id]||""}),r.state={formState:i},r}return t=o,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,n.prototype.render=function(){var e=this,t=this.props.files[this.props.fileCardFor],n=this.props.canEditFile(t);return s("div",{class:u("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:c,onDragLeave:c,onDrop:c,onPaste:c},s("div",{class:"uppy-DashboardContent-bar"},s("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:s("span",{class:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),s("button",{class:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),s("div",{class:"uppy-Dashboard-FileCard-inner"},s("div",{class:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:l(t.type).color}},s(p,{file:t}),n&&s("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(){return e.props.openFileEditor(t)}},this.props.i18n("editFile"))),s("div",{class:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),s("div",{class:"uppy-Dashboard-FileCard-actions"},s("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"button",onclick:this.handleSave},this.props.i18n("saveChanges")),s("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onclick:this.handleCancel},this.props.i18n("cancel")))))},n}(i);e.exports=o},function(e,t,n){var r=n(0),o=r.cloneElement,i=r.Component,a=n(11),s="uppy-transition-slideDownUp",u=function(n){var e,t;function r(e){var t=n.call(this,e)||this;return t.state={cachedChildren:null,className:""},t}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=r.prototype;return i.componentWillUpdate=function(e){var t,n=this,r=this.state.cachedChildren,i=e.children[0];r!==i&&(t={cachedChildren:i},i&&!r&&(t.className=s+"-enter",cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){n.base.getBoundingClientRect(),n.setState({className:s+"-enter "+s+"-enter-active"}),n.enterTimeout=setTimeout(function(){n.setState({className:""})},250)})),r&&!i&&void 0===this.leaveTimeout&&(t.cachedChildren=r,t.className=s+"-leave",cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){n.setState({className:s+"-leave "+s+"-leave-active"}),n.leaveTimeout=setTimeout(function(){n.setState({cachedChildren:null,className:""})},250)})),this.setState(t))},i.render=function(){var e=this.state,t=e.cachedChildren,n=e.className;return t?o(t,{className:a(n,t.attributes.className)}):null},r}(i);e.exports=u},function(e,t){e.exports=function(){var e=document.createElement("div");return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}},function(e,t,n){function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r=n(55),O=n(11),_=n(95),i=n(56),o=n(187),x=n(0).h;function T(n){var r=[];Object.keys(n).forEach(function(e){var t=n[e].progress;t.preprocess&&r.push(t.preprocess),t.postprocess&&r.push(t.postprocess)});var e=r[0];return{mode:e.mode,message:e.message,value:r.filter(function(e){return"determinate"===e.mode}).reduce(function(e,t,n,r){return e+t.value/r.length},0)}}e.exports=function(e){var t,n,r,i=(e=e||{}).newFiles,o=e.allowNewUpload,a=e.isUploadInProgress,s=e.isAllPaused,u=e.resumableUploads,l=e.error,c=e.hideUploadButton,p=e.hidePauseResumeButton,f=e.hideCancelButton,d=e.hideRetryButton,h=e.uploadState,g=e.totalProgress;h===_.STATE_PREPROCESSING||h===_.STATE_POSTPROCESSING?("determinate"===(r=(n=T(e.files)).mode)&&(g=100*n.value),t=B(n)):h===_.STATE_COMPLETE?t=L(e):h===_.STATE_UPLOADING?(e.supportsUploadProgress||(r="indeterminate",g=null),t=D(e)):h===_.STATE_ERROR&&(g=void 0,t=M(e));var v="number"==typeof g?g:100,y=h===_.STATE_WAITING&&e.hideUploadButton||h===_.STATE_WAITING&&0<!e.newFiles||h===_.STATE_COMPLETE&&e.hideAfterFinish,m=!l&&i&&!a&&!s&&o&&!c,b=!f&&h!==_.STATE_WAITING&&h!==_.STATE_COMPLETE,w=u&&!p&&h===_.STATE_UPLOADING,S=l&&!d,P=e.doneButtonHandler&&h===_.STATE_COMPLETE,A="uppy-StatusBar-progress\n                           "+(r?"is-"+r:""),k=O({"uppy-Root":e.isTargetDOMEl},"uppy-StatusBar","is-"+h);return x("div",{class:k,"aria-hidden":y},x("div",{class:A,style:{width:v+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":g}),t,x("div",{class:"uppy-StatusBar-actions"},m?x(U,E({},e,{uploadState:h})):null,S?x(F,e):null,w?x(R,e):null,b?x(C,e):null,P?x(I,e):null))};function a(){return x("svg",{class:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},x("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0","fill-rule":"evenodd"}))}function s(e){return x("div",{class:"uppy-StatusBar-statusSecondary"},e.i18n("filesUploadedOfTotal",{complete:e.complete,smart_count:e.numUploads}))}function u(e){var t=O("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return x("div",{class:"uppy-StatusBar-statusSecondary"},x("div",{class:"uppy-StatusBar-statusSecondaryHint"},e.i18n("xMoreFilesAdded",{smart_count:e.newFiles})),x("button",{type:"button",class:t,"aria-label":e.i18n("uploadXFiles",{smart_count:e.newFiles}),onclick:e.startUpload},e.i18n("upload")))}var U=function(e){var t=O("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":e.uploadState===_.STATE_WAITING});return x("button",{type:"button",class:t,"aria-label":e.i18n("uploadXFiles",{smart_count:e.newFiles}),onclick:e.startUpload,"data-uppy-super-focusable":!0},e.newFiles&&e.isUploadStarted?e.i18n("uploadXNewFiles",{smart_count:e.newFiles}):e.i18n("uploadXFiles",{smart_count:e.newFiles}))},F=function(e){return x("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e.i18n("retryUpload"),onclick:e.retryAll,"data-uppy-super-focusable":!0},x("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},x("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e.i18n("retry"))},C=function(e){return x("button",{type:"button",class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e.i18n("cancel"),"aria-label":e.i18n("cancel"),onclick:e.cancelAll,"data-uppy-super-focusable":!0},x("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},x("g",{fill:"none","fill-rule":"evenodd"},x("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),x("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},R=function(e){var t=e.isAllPaused,n=e.i18n,r=n(t?"resume":"pause");return x("button",{title:r,"aria-label":r,class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onclick:function(){return function(e){if(!e.isAllComplete)return e.resumableUploads?e.isAllPaused?e.resumeAll():e.pauseAll():e.cancelAll()}(e)},"data-uppy-super-focusable":!0},x("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},x("g",{fill:"none","fill-rule":"evenodd"},x("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),x("path",t?{fill:"#FFF",d:"M6 4.25L11.5 8 6 11.75z"}:{d:"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z",fill:"#FFF"}))))},I=function(e){var t=e.i18n;return x("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:e.doneButtonHandler,"data-uppy-super-focusable":!0},t("done"))},B=function(e){var t=Math.round(100*e.value);return x("div",{class:"uppy-StatusBar-content"},x(a,null),"determinate"===e.mode?t+"% · ":"",e.message)},l=r(function(e){var t=1<e.numUploads;return x("div",{class:"uppy-StatusBar-statusSecondary"},t&&e.i18n("filesUploadedOfTotal",{complete:e.complete,smart_count:e.numUploads}),x("span",{class:"uppy-StatusBar-additionalInfo"},t&&" · ",e.i18n("dataUploadedOfTotal",{complete:i(e.totalUploadedSize),total:i(e.totalSize)})," · ",e.i18n("xTimeLeft",{time:o(e.totalETA)})))},500,{leading:!0,trailing:!0}),D=function(e){if(!e.isUploadStarted||e.isAllComplete)return null;var t=e.isAllPaused?e.i18n("paused"):e.i18n("uploading"),n=e.newFiles&&e.isUploadStarted;return x("div",{class:"uppy-StatusBar-content","aria-label":t,title:t},e.isAllPaused?null:x(a,null),x("div",{class:"uppy-StatusBar-status"},x("div",{class:"uppy-StatusBar-statusPrimary"},e.supportsUploadProgress?t+": "+e.totalProgress+"%":t),e.isAllPaused||n||!e.showProgressDetails?null:e.supportsUploadProgress?x(l,e):x(s,e),n?x(u,e):null))},L=function(e){e.totalProgress;var t=e.i18n;return x("div",{class:"uppy-StatusBar-content",role:"status",title:t("complete")},x("div",{class:"uppy-StatusBar-status"},x("div",{class:"uppy-StatusBar-statusPrimary"},x("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},x("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))},M=function(e){var t=e.error,n=(e.retryAll,e.hideRetryButton,e.i18n);return x("div",{class:"uppy-StatusBar-content",role:"alert",title:n("uploadFailed")},x("div",{class:"uppy-StatusBar-status"},x("div",{class:"uppy-StatusBar-statusPrimary"},x("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},x("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),n("uploadFailed"))),x("span",{class:"uppy-StatusBar-details","aria-label":t,"data-microtip-position":"top-right","data-microtip-size":"medium",role:"tooltip",onclick:function(){var e=n("uploadFailed")+" \n\n "+t;alert(e)}},"?"))}},function(e,t,n){var a=n(188);e.exports=function(e){var t=a(e),n=t.hours?t.hours+"h ":"",r=t.hours?("0"+t.minutes).substr(-2):t.minutes,i=r?r+"m":"",o=r?("0"+t.seconds).substr(-2):t.seconds;return n+i+(t.hours?"":r?" "+o+"s":o+"s")}},function(e,t){e.exports=function(e){return{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}}},function(e,t){e.exports=function(e){if(!e.bytesUploaded)return 0;var t=new Date-e.uploadStarted;return e.bytesUploaded/(t/1e3)}},function(e,t){e.exports=function(e){return e.bytesTotal-e.bytesUploaded}},function(e,t,n){var r,i;function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(18).Plugin,s=n(0).h;e.exports=(i=r=function(n){var e,t;function r(e,t){var o=n.call(this,e,t)||this;o.render=function(e){var t=e.info,n=t.isHidden,r=t.message,i=t.details;return s("div",{class:"uppy uppy-Informer","aria-hidden":n},s("p",{role:"alert"},r," ",i&&s("span",{"aria-label":i,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onclick:function(){alert(r+" \n\n "+i)},onMouseOver:function(){clearTimeout(o.uppy.infoTimeoutID)},onMouseLeave:function(){o.uppy.infoTimeoutID=setTimeout(o.uppy.hideInfo,2e3)}},"?")))},o.type="progressindicator",o.id=o.opts.id||"Informer",o.title="Informer";return o.opts=a({},{},t),o}return t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.install=function(){var e=this.opts.target;e&&this.mount(e,this)},r}(o),r.VERSION="1.5.14",i)},function(e,t,n){var r,i;function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=n(18).Plugin,s=n(26),u=n(193),l=n(194),c=n(195),p=n(196),f=n(197);e.exports=(i=r=function(n){var e,t;function r(e,t){var r=n.call(this,e,t)||this;r.onFileAdded=function(e){e.preview||!c(e.type)||e.isRemote||r.addToQueue(e.id)},r.onCancelRequest=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1)},r.onFileRemoved=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1),e.preview&&l(e.preview)&&URL.revokeObjectURL(e.preview)},r.onRestored=function(){var e=r.uppy.getState().files;Object.keys(e).forEach(function(e){var t=r.uppy.getFile(e);t.isRestored&&(t.preview&&!l(t.preview)||r.addToQueue(t.id))})},r.waitUntilAllProcessed=function(e){e.forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("generatingThumbnails")})});function n(){e.forEach(function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)})}return new Promise(function(e,t){r.queueProcessing?r.uppy.once("thumbnail:all-generated",function(){n(),e()}):(n(),e())})},r.type="modifier",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200,r.thumbnailType=r.opts.thumbnailType||"image/jpeg",r.defaultLocale={strings:{generatingThumbnails:"Generating thumbnails..."}};if(r.opts=o({},{thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1},t),r.opts.lazy&&r.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return r.i18nInit(),r}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=r.prototype;return i.setOptions=function(e){n.prototype.setOptions.call(this,e),this.i18nInit()},i.i18nInit=function(){this.translator=new s([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},i.createThumbnail=function(e,a,s){var u=this,r=URL.createObjectURL(e.data),t=new Promise(function(e,t){var n=new Image;n.src=r,n.addEventListener("load",function(){URL.revokeObjectURL(r),e(n)}),n.addEventListener("error",function(e){URL.revokeObjectURL(r),t(e.error||new Error("Could not create thumbnail"))})}),n=f.rotation(e.data).catch(function(e){return 1});return Promise.all([t,n]).then(function(e){var t=e[0],n=e[1],r=u.getProportionalDimensions(t,a,s,n.deg),i=u.rotateImage(t,n),o=u.resizeImage(i,r.width,r.height);return u.canvasToBlob(o,u.thumbnailType,80)}).then(function(e){return URL.createObjectURL(e)})},i.getProportionalDimensions=function(e,t,n,r){var i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}},i.protect=function(e){var t,n=e.width/e.height,r=Math.floor(Math.sqrt(5e6*n)),i=Math.floor(5e6/Math.sqrt(5e6*n));return 4096<r&&(r=4096,i=Math.round(r/n)),4096<i&&(i=4096,r=Math.round(n*i)),e.width>r&&((t=document.createElement("canvas")).width=r,t.height=i,t.getContext("2d").drawImage(e,0,0,r,i),e=t),e},i.resizeImage=function(e,t,n){e=this.protect(e);var r=Math.ceil(p(e.width/t));r<1&&(r=1);for(var i=t*Math.pow(2,r-1),o=n*Math.pow(2,r-1);r--;){var a=document.createElement("canvas");a.width=i,a.height=o,a.getContext("2d").drawImage(e,0,0,i,o),e=a,i=Math.round(i/2),o=Math.round(o/2)}return e},i.rotateImage=function(e,t){var n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);var i=document.createElement("canvas");i.width=n,i.height=r;var o=i.getContext("2d");return o.translate(n/2,r/2),t.canvas&&(o.rotate(t.rad),o.scale(t.scaleX,t.scaleY)),o.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i},i.canvasToBlob=function(t,n,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(function(e){t.toBlob(e,n,r)}).then(function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e}):Promise.resolve().then(function(){return u(t.toDataURL(n,r),{})}).then(function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e})},i.setPreviewURL=function(e,t){this.uppy.setFileState(e,{preview:t})},i.addToQueue=function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()},i.processQueue=function(){var e=this;if(this.queueProcessing=!0,0<this.queue.length){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch(function(e){}).then(function(){return e.processQueue()}):void this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error")}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")},i.requestThumbnail=function(t){var n=this;return c(t.type)&&!t.isRemote?this.createThumbnail(t,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(e){n.setPreviewURL(t.id,e),n.uppy.log("[ThumbnailGenerator] Generated thumbnail for "+t.id),n.uppy.emit("thumbnail:generated",n.uppy.getFile(t.id),e)}).catch(function(e){n.uppy.log("[ThumbnailGenerator] Failed thumbnail for "+t.id+":","warning"),n.uppy.log(e,"warning"),n.uppy.emit("thumbnail:error",n.uppy.getFile(t.id),e)}):Promise.resolve()},i.install=function(){this.uppy.on("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)},i.uninstall=function(){this.uppy.off("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)},r}(a),r.VERSION="1.7.3",i)},function(e,t){e.exports=function(e,t,n){var r=e.split(",")[1],i=t.mimeType||e.split(",")[0].split(":")[1].split(";")[0];null==i&&(i="plain/text");for(var o,a=atob(r),s=[],u=0;u<a.length;u++)s.push(a.charCodeAt(u));try{o=new Uint8Array(s)}catch(e){return null}return n?new File([o],t.name||"",{type:i}):new Blob([o],{type:i})}},function(e,t){e.exports=function(e){return 0===e.indexOf("blob:")}},function(e,t){e.exports=function(e){if(!e)return!1;var t=e.split("/")[1];return!!/^(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t)}},function(e,t,n){"use strict";e.exports=Math.log2||function(e){return Math.log(e)*Math.LOG2E}},function(e,t,n){(function(kt,Et,Ot){!function(t){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}});var r=["prototype","__proto__","caller","arguments","length","name"];Object.getOwnPropertyNames(n).forEach(function(e){-1===r.indexOf(e)&&t[e]!==n[e]&&(t[e]=n[e])}),n&&o(t,n)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e,t,n){return(p=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function n(e){var r="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return p(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var g=Object.values||function(e){var t=[];for(var n in e)t.push(e[n]);return t},v=Object.entries||function(e){var t=[];for(var n in e)t.push([n,e[n]]);return t},y=Object.assign||function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return t.forEach(function(e){for(var t in e)n[t]=e[t]}),n},m=Object.fromEntries||function(e){var r={};return b(e).forEach(function(e){var t=e[0],n=e[1];r[t]=n}),r},b=Array.from||function(e){if(e instanceof k){var n=[];return e.forEach(function(e,t){return n.push([t,e])}),n}return Array.prototype.slice.call(e)};function e(e){return-1!==this.indexOf(e)}Array.prototype.includes||(Array.prototype.includes=e),String.prototype.includes||(String.prototype.includes=e),String.prototype.startsWith||(String.prototype.startsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.substring(t,t+e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return this.substring(t-e.length,t)===e});var w="undefined"!=typeof self?self:kt,S=w.fetch||function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,t){var n=new XMLHttpRequest;if(n.open("get",i,!0),n.responseType="arraybuffer",n.onerror=t,o.headers)for(var r in o.headers)n.setRequestHeader(r,o.headers[r]);n.onload=function(){e({ok:n.status>=200&&n.status<300,status:n.status,arrayBuffer:function(){return Promise.resolve(n.response)}})},n.send(null)})},P=function(e){var t=[];if(Object.defineProperties(t,{size:{get:function(){return this.length}},has:{value:function(e){return-1!==this.indexOf(e)}},add:{value:function(e){this.has(e)||this.push(e)}},delete:{value:function(e){if(this.has(e)){var t=this.indexOf(e);this.splice(t,1)}}}}),Array.isArray(e))for(var n=0;n<e.length;n++)t.add(e[n]);return t},A=function(e){return new k(e)},k=void 0!==w.Map&&void 0!==w.Map.prototype.keys?w.Map:function(){function n(e){if(u(this,n),this.clear(),e)for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1])}return a(n,[{key:"clear",value:function(){this._map={},this._keys=[]}},{key:"get",value:function(e){return this._map["map_"+e]}},{key:"set",value:function(e,t){return this._map["map_"+e]=t,this._keys.indexOf(e)<0&&this._keys.push(e),this}},{key:"has",value:function(e){return this._keys.indexOf(e)>=0}},{key:"delete",value:function(e){var t=this._keys.indexOf(e);return!(t<0)&&(delete this._map["map_"+e],this._keys.splice(t,1),!0)}},{key:"keys",value:function(){return this._keys.slice(0)}},{key:"values",value:function(){var t=this;return this._keys.map(function(e){return t.get(e)})}},{key:"entries",value:function(){var t=this;return this._keys.map(function(e){return[e,t.get(e)]})}},{key:"forEach",value:function(e,t){for(var n=0;n<this._keys.length;n++)e.call(t,this._map["map_"+this._keys[n]],this._keys[n],this)}},{key:"size",get:function(){return this._keys.length}}]),n}(),E="undefined"!=typeof self?self:kt,O="undefined"!=typeof navigator,_=O&&"undefined"==typeof HTMLImageElement,x=!("undefined"==typeof kt||"undefined"==typeof Et||!Et.versions||!Et.versions.node),T=E.Buffer,U=!!T,F=function(e){return void 0!==e};function C(e){return void 0===e||(e instanceof k?0===e.size:0===g(e).filter(F).length)}function R(e){var t=new Error(e);throw delete t.stack,t}function I(e){var t=function(e){var t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var B="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;function D(e){return B?B.decode(e):U?Ot.from(e).toString("utf8"):decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}var L=function(){function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(u(this,s),"boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);var i=new DataView(e,t,n);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof s){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&R("Creating view outside of available memory in ArrayBuffer");var o=new DataView(e.buffer,t,n);this._swapDataView(o)}else if("number"==typeof e){var a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else R("Invalid input argument for BufferView: "+e)}return a(s,null,[{key:"from",value:function(e,t){return e instanceof this&&e.le===t?e:new s(e,void 0,void 0,t)}}]),a(s,[{key:"_swapArrayBuffer",value:function(e){this._swapDataView(new DataView(e))}},{key:"_swapBuffer",value:function(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}},{key:"_swapDataView",value:function(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}},{key:"_lengthToEnd",value:function(e){return this.byteLength-e}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;e instanceof DataView||e instanceof s?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||R("BufferView.set(): Invalid data argument.");var r=this.toUint8();return r.set(e,t),new n(this,t,e.byteLength)}},{key:"subarray",value:function(e,t){return new s(this,e,t=t||this._lengthToEnd(e))}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}},{key:"getString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=this.getUint8Array(e,t);return D(n)}},{key:"getUnicodeString",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=[],r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return n.map(function(e){return String.fromCharCode(e)}).join("")}},{key:"getInt8",value:function(e){return this.dataView.getInt8(e)}},{key:"getUint8",value:function(e){return this.dataView.getUint8(e)}},{key:"getInt16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt16(e,t)}},{key:"getInt32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt32(e,t)}},{key:"getUint16",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint16(e,t)}},{key:"getUint32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint32(e,t)}},{key:"getFloat32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getFloat64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:"getDouble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:"getUintBytes",value:function(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}},{key:"getUint",value:function(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}},{key:"toString",value:function(e){return this.dataView.toString(e,this.constructor.name)}},{key:"ensureChunk",value:function(){}}]),s}();function M(e,t){R("".concat(e," '").concat(t,"' was not loaded, try using full build of exifr."))}var j=function(e){function n(e){var t;return u(this,n),(t=d(this,c(n).call(this))).kind=e,t}return i(n,e),a(n,[{key:"get",value:function(e,t){return this.has(e)||M(this.kind,e),t&&(e in t||function(e,t){R("Unknown ".concat(e," '").concat(t,"'."))}(this.kind,e),t[e].enabled||M(this.kind,e)),h(c(n.prototype),"get",this).call(this,e)}},{key:"keyList",value:function(){return b(this.keys())}}]),n}(n(k)),N=new j("file parser"),z=new j("segment parser"),q=new j("file reader");function H(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(e){return Promise.reject(e)}}}function V(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var W=H(function(r){return new Promise(function(e,t){var n=new FileReader;n.onloadend=function(){return e(n.result||new ArrayBuffer)},n.onerror=t,n.readAsArrayBuffer(r)})}),G=H(function(e){return S(e).then(function(e){return e.arrayBuffer()})}),Y=H(function(e,t){return V(t(e),function(e){return new L(e)})}),X=H(function(e,t,n){var r=new(q.get(n))(e,t);return V(r.read(),function(){return r})}),$=H(function(e,t,n,r){return q.has(n)?X(e,t,n):r?Y(e,r):(R("Parser ".concat(n," is not loaded")),V())});function K(e,t){return(n=e).startsWith("data:")||n.length>1e4?X(e,t,"base64"):O?$(e,t,"url",G):x?X(e,t,"fs"):void R("Invalid input argument");var n}var J=function(e){function t(){return u(this,t),d(this,c(t).apply(this,arguments))}return i(t,e),a(t,[{key:"tagKeys",get:function(){return this.allKeys||(this.allKeys=b(this.keys())),this.allKeys}},{key:"tagValues",get:function(){return this.allValues||(this.allValues=b(this.values())),this.allValues}}]),t}(n(k));function Q(e,t,n){var r=new J,i=n;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var o=0;o<i.length;o++){var a=i[o],s=a[0],u=a[1];r.set(s,u)}if(Array.isArray(t)){var l=t;Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=b(l));for(var c=0;c<l.length;c++){var p=l[c];e.set(p,r)}}else e.set(t,r);return r}function Z(e,t,n){var r,i=e.get(t),o=n;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=b(o));for(var a=0;a<o.length;a++)r=o[a],i.set(r[0],r[1])}var ee=A(),te=A(),ne=A(),re=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ie=["jfif","xmp","icc","iptc","ihdr"],oe=["tiff"].concat(ie),ae=["ifd0","ifd1","exif","gps","interop"],se=[].concat(oe,ae),ue=["makerNote","userComment"],le=["translateKeys","translateValues","reviveValues","multiSegment"],ce=[].concat(le,["sanitize","mergeOutput","silentErrors"]),pe=function(){function e(){u(this,e)}return a(e,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),e}(),fe=function(e){function s(e,t,n,r){var i;if(u(this,s),l(f(i=d(this,c(s).call(this))),"enabled",!1),l(f(i),"skip",P()),l(f(i),"pick",P()),l(f(i),"deps",P()),l(f(i),"translateKeys",!1),l(f(i),"translateValues",!1),l(f(i),"reviveValues",!1),i.key=e,i.enabled=t,i.parse=i.enabled,i.applyInheritables(r),i.canBeFiltered=ae.includes(e),i.canBeFiltered&&(i.dict=ee.get(e)),void 0!==n)if(Array.isArray(n))i.parse=i.enabled=!0,i.canBeFiltered&&n.length>0&&i.translateTagSet(n,i.pick);else if("object"==typeof n){if(i.enabled=!0,i.parse=!1!==n.parse,i.canBeFiltered){var o=n.pick,a=n.skip;o&&o.length>0&&i.translateTagSet(o,i.pick),a&&a.length>0&&i.translateTagSet(a,i.skip)}i.applyInheritables(n)}else!0===n||!1===n?i.parse=i.enabled=n:R("Invalid options argument: ".concat(n));return i}return i(s,e),a(s,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}}]),a(s,[{key:"applyInheritables",value:function(e){var t,n,r=le;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=b(r));for(var i=0;i<r.length;i++)void 0!==(n=e[t=r[i]])&&(this[t]=n)}},{key:"translateTagSet",value:function(e,t){if(this.dict){var n,r,i=this.dict,o=i.tagKeys,a=i.tagValues,s=e;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=b(s));for(var u=0;u<s.length;u++)"string"==typeof(n=s[u])?(-1===(r=a.indexOf(n))&&(r=o.indexOf(Number(n))),-1!==r&&t.add(Number(o[r]))):t.add(n)}else{var l=e;Array.isArray(l)||("function"==typeof l.entries&&(l=l.entries()),l=b(l));for(var c=0;c<l.length;c++){var p=l[c];t.add(p)}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,me(this.pick,this.deps)):this.enabled&&this.pick.size>0&&me(this.pick,this.deps)}}]),s}(pe),de={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},he=A(),ge=function(e){function n(e){var t;return u(this,n),t=d(this,c(n).call(this)),!0===e?t.setupFromTrue():void 0===e?t.setupFromUndefined():Array.isArray(e)?t.setupFromArray(e):"object"==typeof e?t.setupFromObject(e):R("Invalid options argument ".concat(e)),void 0===t.firstChunkSize&&(t.firstChunkSize=O?t.firstChunkSizeBrowser:t.firstChunkSizeNode),t.mergeOutput&&(t.ifd1.enabled=!1),t.filterNestedSegmentTags(),t.traverseTiffDependencyTree(),t.checkLoadedPlugins(),t}return i(n,e),a(n,null,[{key:"useCached",value:function(e){var t=he.get(e);return void 0!==t?t:(t=new this(e),he.set(e,t),t)}}]),a(n,[{key:"setupFromUndefined",value:function(){var e,t=re;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=b(t));for(var n=0;n<t.length;n++)this[e=t[n]]=de[e];var r=ce;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=b(r));for(var i=0;i<r.length;i++)this[e=r[i]]=de[e];var o=ue;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=b(o));for(var a=0;a<o.length;a++)this[e=o[a]]=de[e];var s=se;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=b(s));for(var u=0;u<s.length;u++)this[e=s[u]]=new fe(e,de[e],void 0,this)}},{key:"setupFromTrue",value:function(){var e,t=re;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=b(t));for(var n=0;n<t.length;n++)this[e=t[n]]=de[e];var r=ce;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=b(r));for(var i=0;i<r.length;i++)this[e=r[i]]=de[e];var o=ue;Array.isArray(o)||("function"==typeof o.entries&&(o=o.entries()),o=b(o));for(var a=0;a<o.length;a++)this[e=o[a]]=!0;var s=se;Array.isArray(s)||("function"==typeof s.entries&&(s=s.entries()),s=b(s));for(var u=0;u<s.length;u++)this[e=s[u]]=new fe(e,!0,void 0,this)}},{key:"setupFromArray",value:function(e){var t,n=re;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++)this[t=n[r]]=de[t];var i=ce;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var o=0;o<i.length;o++)this[t=i[o]]=de[t];var a=ue;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=b(a));for(var s=0;s<a.length;s++)this[t=a[s]]=de[t];var u=se;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=b(u));for(var l=0;l<u.length;l++)this[t=u[l]]=new fe(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,ae)}},{key:"setupFromObject",value:function(e){var t;ae.ifd0=ae.ifd0||ae.image,ae.ifd1=ae.ifd1||ae.thumbnail,y(this,e);var n=re;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++)this[t=n[r]]=ye(e[t],de[t]);var i=ce;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var o=0;o<i.length;o++)this[t=i[o]]=ye(e[t],de[t]);var a=ue;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=b(a));for(var s=0;s<a.length;s++)this[t=a[s]]=ye(e[t],de[t]);var u=oe;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=b(u));for(var l=0;l<u.length;l++)this[t=u[l]]=new fe(t,de[t],e[t],this);var c=ae;Array.isArray(c)||("function"==typeof c.entries&&(c=c.entries()),c=b(c));for(var p=0;p<c.length;p++)this[t=c[p]]=new fe(t,de[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,ae,se),!0===e.tiff?this.batchEnableWithBool(ae,!0):!1===e.tiff?this.batchEnableWithUserValue(ae,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ae):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ae)}},{key:"batchEnableWithBool",value:function(e,t){var n=e;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){this[n[r]].enabled=t}}},{key:"batchEnableWithUserValue",value:function(e,t){var n=e;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r],o=t[i];this[i].enabled=!1!==o&&void 0!==o}}},{key:"setupGlobalFilters",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(e&&e.length){var i=r;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var o=0;o<i.length;o++){var a=i[o];this[a].enabled=!1}var s=ve(e,n),u=s;Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=b(u));for(var l=0;l<u.length;l++){var c=u[l],p=c[0],f=c[1];me(this[p].pick,f),this[p].enabled=!0}}else if(t&&t.length){var d=ve(t,n),h=d;Array.isArray(h)||("function"==typeof h.entries&&(h=h.entries()),h=b(h));for(var g=0;g<h.length;g++){var v=h[g],y=v[0],m=v[1];me(this[y].skip,m)}}}},{key:"filterNestedSegmentTags",value:function(){var e=this.ifd0,t=this.exif,n=this.xmp,r=this.iptc,i=this.icc;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}},{key:"traverseTiffDependencyTree",value:function(){var t=this,e=this.ifd0,n=this.exif,r=this.gps;this.interop.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=ae.some(function(e){return!0===t[e].enabled})||this.makerNote||this.userComment;var i=ae;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var o=0;o<i.length;o++){this[i[o]].finalizeFilters()}}},{key:"checkLoadedPlugins",value:function(){var e=oe;Array.isArray(e)||("function"==typeof e.entries&&(e=e.entries()),e=b(e));for(var t=0;t<e.length;t++){var n=e[t];this[n].enabled&&!z.has(n)&&M("segment parser",n)}}},{key:"onlyTiff",get:function(){var t=this;return!ie.map(function(e){return t[e].enabled}).some(function(e){return!0===e})&&this.tiff.enabled}}]),n}(pe);function ve(e,t){var n,r,i,o=[],a=t;Array.isArray(a)||("function"==typeof a.entries&&(a=a.entries()),a=b(a));for(var s=0;s<a.length;s++){r=a[s],n=[];var u=ee.get(r);Array.isArray(u)||("function"==typeof u.entries&&(u=u.entries()),u=b(u));for(var l=0;l<u.length;l++)i=u[l],(e.includes(i[0])||e.includes(i[1]))&&n.push(i[0]);n.length&&o.push([r,n])}return o}function ye(e,t){return void 0!==e?e:void 0!==t?t:void 0}function me(e,t){var n=t;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r];e.add(i)}}function be(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function we(){}function Se(e,t){if(!t)return e&&e.then?e.then(we):Promise.resolve()}function Pe(e,t){var n=e();return n&&n.then?n.then(t):t(n)}l(ge,"default",de);var Ae=function(){function t(e){u(this,t),l(this,"parsers",{}),this.options=ge.useCached(e)}return a(t,[{key:"setup",value:function(){if(!this.fileParser){var e=this.file,t=e.getUint16(0),n=N;Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r],o=i[0],a=i[1];if(a.canHandle(e,t))return this.fileParser=new a(this.options,this.file,this.parsers),e[o]=!0}R("Unknown file format")}}},{key:"read",value:function(e){try{var t=this;return be(function(e,t){return"string"==typeof e?K(e,t):O&&!_&&e instanceof HTMLImageElement?K(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new L(e):O&&e instanceof Blob?$(e,t,"blob",W):void R("Invalid input argument")}(e,t.options),function(e){t.file=e})}catch(e){return Promise.reject(e)}}},{key:"parse",value:function(){try{var t=this;t.setup();var n={},r=[];return Pe(function(){return t.options.silentErrors?be(t.doParse(n,r).catch(function(e){return r.push(e)}),function(){r.push.apply(r,t.fileParser.errors)}):Se(t.doParse(n,r))},function(){return t.file.close&&t.file.close(),t.options.silentErrors&&r.length>0&&(n.errors=r),C(e=n)?void 0:e;var e})}catch(t){return Promise.reject(t)}}},{key:"doParse",value:function(r,i){try{var o=this;return be(o.fileParser.parse(),function(){var n,e=g(o.parsers).map((n=function(t){return be(t.parse(),function(e){t.assignToOutput(r,e)})},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(e){return Promise.reject(e)}}));if(o.options.silentErrors){var t=function(e){return i.push(e)};e=e.map(function(e){return e.catch(t)})}return Se(Promise.all(e))})}catch(r){return Promise.reject(r)}}},{key:"extractThumbnail",value:function(){try{var t=this;t.setup();var n,r=t.options,i=t.file,o=z.get("tiff",r);return Pe(function(){if(!i.tiff)return function(e){var t=e();if(t&&t.then)return t.then(we)}(function(){if(i.jpeg)return be(t.fileParser.getOrFindSegment("tiff"),function(e){n=e})});n={start:0,type:"tiff"}},function(){if(void 0!==n)return be(t.fileParser.ensureSegmentChunk(n),function(e){return be((t.parsers.tiff=new o(e,r,i)).extractThumbnail(),function(e){return i.close&&i.close(),e})})})}catch(t){return Promise.reject(t)}}}]),t}(),ke,Ee=(ke=function(e,t){var n,r,i,o=new Ae(t);return n=o.read(e),r=function(){return o.parse()},i?r?r(n):n:(n&&n.then||(n=Promise.resolve(n)),r?n.then(r):n)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(ke.apply(this,e))}catch(e){return Promise.reject(e)}}),Oe=Object.freeze({__proto__:null,parse:Ee,Exifr:Ae,fileParsers:N,segmentParsers:z,fileReaders:q,tagKeys:ee,tagValues:te,tagRevivers:ne,createDictionary:Q,extendDictionary:Z,fetchUrlAsArrayBuffer:G,readBlobAsArrayBuffer:W,chunkedProps:re,otherSegments:ie,segments:oe,tiffBlocks:ae,segmentsAndBlocks:se,tiffExtractables:ue,inheritables:le,allFormatters:ce,Options:ge});function _e(){}var xe=function(){function r(e,t,n){var a=this;u(this,r),l(this,"errors",[]),l(this,"ensureSegmentChunk",function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(e){return Promise.reject(e)}}}(function(r){var e,t,n,i=r.start,o=r.size||65536;return e=function(){if(a.file.chunked)return function(e){var t=e();if(t&&t.then)return t.then(_e)}(function(){if(!a.file.available(i,o))return function(e){if(e&&e.then)return e.then(_e)}(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return e=a.file.readChunk(i,o),t=function(e){r.chunk=e},n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e);var e,t,n},function(e){R("Couldn't read segment: ".concat(JSON.stringify(r),". ").concat(e.message))}));r.chunk=a.file.subarray(i,o)});a.file.byteLength>i+o?r.chunk=a.file.subarray(i,o):void 0===r.size?r.chunk=a.file.subarray(i):R("Segment unreachable: "+JSON.stringify(r))},t=function(){return r.chunk},(n=e())&&n.then?n.then(t):t(n)})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}return a(r,[{key:"injectSegment",value:function(e,t){this.options[e].enabled&&this.createParser(e,t)}},{key:"createParser",value:function(e,t){var n=new(z.get(e))(t,this.options,this.file);return this.parsers[e]=n}},{key:"createParsers",value:function(e){var t=e;Array.isArray(t)||("function"==typeof t.entries&&(t=t.entries()),t=b(t));for(var n=0;n<t.length;n++){var r=t[n],i=r.type,o=r.chunk,a=this.options[i];if(a&&a.enabled){var s=this.parsers[i];s&&s.append||s||this.createParser(i,o)}}}},{key:"readSegments",value:function(e){try{var t=e.map(this.ensureSegmentChunk);return function(e,t){if(!t)return e&&e.then?e.then(_e):Promise.resolve()}(Promise.all(t))}catch(e){return Promise.reject(e)}}}]),r}(),Te=function(){function i(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;u(this,i),l(this,"errors",[]),l(this,"raw",A()),l(this,"handleError",function(e){if(!t.options.silentErrors)throw e;t.errors.push(e.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return a(i,[{key:"normalizeInput",value:function(e){return e instanceof L?e:new L(e)}}],[{key:"findPosition",value:function(e,t){var n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,o=n-r;return{offset:t,length:n,headerLength:r,start:i,size:o,end:i+o}}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new ge(l({},this.type,t)),r=new this(e,n);return r.parse()}}]),a(i,[{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"translateBlock",value:function(e,t){var n=ne.get(t),r=te.get(t),i=ee.get(t),o=this.options[t],a=o.reviveValues&&!!n,s=o.translateValues&&!!r,u=o.translateKeys&&!!i,l={},c=e;Array.isArray(c)||("function"==typeof c.entries&&(c=c.entries()),c=b(c));for(var p=0;p<c.length;p++){var f=c[p],d=f[0],h=f[1];a&&n.has(d)?h=n.get(d)(h):s&&r.has(d)&&(h=this.translateValue(h,r.get(d))),u&&i.has(d)&&(d=i.get(d)||d),l[d]=h}return l}},{key:"translateValue",value:function(e,t){return t[e]||t.DEFAULT||e}},{key:"assignToOutput",value:function(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}},{key:"assignObjectToOutput",value:function(e,t,n){if(this.globalOptions.mergeOutput)return y(e,n);e[t]?y(e[t],n):e[t]=n}},{key:"output",get:function(){return this.translated?this.translated:this.raw?m(this.raw):void 0}}]),i}();function Ue(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Fe(){}function Ce(e,t){if(!t)return e&&e.then?e.then(Fe):Promise.resolve()}function Re(e){var t=e();if(t&&t.then)return t.then(Fe)}function Ie(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function Be(e,t,n){if(!e.s){if(n instanceof De){if(!n.s)return void(n.o=Be.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Be.bind(null,e,t),Be.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}l(Te,"headerLength",4),l(Te,"type",void 0),l(Te,"multiSegment",!1),l(Te,"canHandle",function(){return!1});var De=function(){function o(){}return o.prototype.then=function(n,r){var i=new o,e=this.s;if(e){var t=1&e?n:r;if(t){try{Be(i,1,t(this.v))}catch(e){Be(i,2,e)}return i}return this}return this.o=function(e){try{var t=e.v;1&e.s?Be(i,1,n?n(t):t):r?Be(i,1,r(t)):Be(i,2,t)}catch(e){Be(i,2,e)}},i},o}();function Le(e){return e instanceof De&&1&e.s}function Me(t,n,r){for(var e;;){var i=t();if(Le(i)&&(i=i.v),!i)return o;if(i.then){e=0;break}var o=r();if(o&&o.then){if(!Le(o)){e=1;break}o=o.s}if(n){var a=n();if(a&&a.then&&!Le(a)){e=2;break}}}var s=new De,u=Be.bind(null,s,2);return(0===e?i.then(c):1===e?o.then(l):a.then(p)).then(void 0,u),s;function l(e){o=e;do{if(n&&(a=n())&&a.then&&!Le(a))return void a.then(p).then(void 0,u);if(!(i=t())||Le(i)&&!i.v)return void Be(s,1,o);if(i.then)return void i.then(c).then(void 0,u);Le(o=r())&&(o=o.v)}while(!o||!o.then);o.then(l).then(void 0,u)}function c(e){e?(o=r())&&o.then?o.then(l).then(void 0,u):l(o):Be(s,1,o)}function p(){(i=t())?i.then?i.then(c).then(void 0,u):c(i):Be(s,1,o)}}function je(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Ne(e){return e>=224&&e<=239}function ze(e,t,n){var r=z;Array.isArray(r)||("function"==typeof r.entries&&(r=r.entries()),r=b(r));for(var i=0;i<r.length;i++){var o=r[i],a=o[0];if(o[1].canHandle(e,t,n))return a}}var qe=function(e){function o(){var e,t;u(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return l(f(t=d(this,(e=c(o)).call.apply(e,[this].concat(r)))),"appSegments",[]),l(f(t),"jpegSegments",[]),l(f(t),"unknownSegments",[]),t}return i(o,e),a(o,[{key:"parse",value:function(){try{var e=this;return Ue(e.findAppSegments(),function(){return Ue(e.readSegments(e.appSegments),function(){e.mergeMultiSegments(),e.createParsers(e.mergedAppSegments||e.appSegments)})})}catch(e){return Promise.reject(e)}}},{key:"setupSegmentFinderArgs",value:function(e){var t=this;!0===e?(this.findAll=!0,this.wanted=P(z.keyList())):(e=void 0===e?z.keyList().filter(function(e){return t.options[e].enabled}):e.filter(function(e){return t.options[e].enabled&&z.has(e)}),this.findAll=!1,this.remaining=P(e),this.wanted=P(e)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;try{var o=this;o.setupSegmentFinderArgs(e);var a=o.file,t=o.findAll,n=o.wanted,s=o.remaining;return Ie(function(){if(!t&&o.file.chunked)return t=b(n).some(function(e){var t=z.get(e),n=o.options[e];return t.multiSegment&&n.multiSegment}),Re(function(){if(t)return Ce(o.file.readWhole())})},function(){var r=!1;if(i=o.findAppSegmentsInRange(i,a.byteLength),!o.options.onlyTiff)return function(){if(a.chunked){var n=!1;return Me(function(){return!r&&s.size>0&&!n&&(!!a.canReadNextChunk||!!o.unfinishedMultiSegment)},void 0,function(){var e=a.nextChunkOffset,t=o.appSegments.some(function(e){return!o.file.available(e.offset||e.start,e.length||e.size)});return Ie(function(){return i>e&&!t?Ue(a.readNextChunk(i),function(e){n=!e}):Ue(a.readNextChunk(e),function(e){n=!e})},function(){void 0===(i=o.findAppSegmentsInRange(i,a.byteLength))&&(r=!0)})})}}()})}catch(i){return Promise.reject(i)}}},{key:"findAppSegmentsInRange",value:function(e,t){t-=2;for(var n,r,i,o,a,s,u=this.file,l=this.findAll,c=this.wanted,p=this.remaining,f=this.options;e<t;e++)if(255===u.getUint8(e))if(Ne(n=u.getUint8(e+1))){if(r=u.getUint16(e+2),(i=ze(u,e,r))&&c.has(i)&&(a=(o=z.get(i)).findPosition(u,e),s=f[i],a.type=i,this.appSegments.push(a),!l&&(o.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||p.delete(i)):p.delete(i),0===p.size)))break;f.recordUnknownSegments&&((a=Te.findPosition(u,e)).marker=n,this.unknownSegments.push(a)),e+=r+1}else if(je(n)){if(r=u.getUint16(e+2),218===n&&!1!==f.stopAfterSos)return;f.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}},{key:"mergeMultiSegments",value:function(){var i=this;if(this.appSegments.some(function(e){return e.multiSegment})){var e=function(e,t){for(var n,r,i,o=A(),a=0;a<e.length;a++)n=e[a],r=n[t],o.has(r)?i=o.get(r):o.set(r,i=[]),i.push(n);return b(o)}(this.appSegments,"type");this.mergedAppSegments=e.map(function(e){var t=e[0],n=e[1],r=z.get(t,i.options);return r.handleMultiSegments?{type:t,chunk:r.handleMultiSegments(n)}:n[0]})}}},{key:"getSegment",value:function(t){return this.appSegments.find(function(e){return e.type===t})}},{key:"getOrFindSegment",value:function(e){try{var t=this,n=t.getSegment(e);return Ie(function(){if(void 0===n)return Ue(t.findAppSegments(0,[e]),function(){n=t.getSegment(e)})},function(){return n})}catch(e){return Promise.reject(e)}}}],[{key:"canHandle",value:function(e,t){return 65496===t}}]),o}(xe);function He(){}function Ve(e,t){if(!t)return e&&e.then?e.then(He):Promise.resolve()}function We(e,t){var n=e();return n&&n.then?n.then(t):t(n)}l(qe,"type","jpeg"),N.set("jpeg",qe);var Ge=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],Ye=function(e){function t(){return u(this,t),d(this,c(t).apply(this,arguments))}return i(t,e),a(t,[{key:"parse",value:function(){try{var e=this;e.parseHeader();var t=e.options;return We(function(){if(t.ifd0.enabled)return Ve(e.parseIfd0Block())},function(){return We(function(){if(t.exif.enabled)return Ve(e.safeParse("parseExifBlock"))},function(){return We(function(){if(t.gps.enabled)return Ve(e.safeParse("parseGpsBlock"))},function(){return We(function(){if(t.interop.enabled)return Ve(e.safeParse("parseInteropBlock"))},function(){return We(function(){if(t.ifd1.enabled)return Ve(e.safeParse("parseThumbnailBlock"))},function(){return e.createOutput()})})})})})}catch(e){return Promise.reject(e)}}},{key:"safeParse",value:function(e){var t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}},{key:"findIfd0Offset",value:function(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(void 0===this.ifd1Offset){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}},{key:"parseBlock",value:function(e,t){var n=A();return this[t]=n,this.parseTags(e,t,n),n}},{key:"parseIfd0Block",value:function(){try{var t=this;if(t.ifd0)return;var e=t.file;return t.findIfd0Offset(),t.ifd0Offset<8&&R("Malformed EXIF data"),!e.chunked&&t.ifd0Offset>e.byteLength&&R("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(t.ifd0Offset,", file.byteLength: ").concat(e.byteLength)),We(function(){if(e.tiff)return Ve(e.ensureChunk(t.ifd0Offset,I(t.options)))},function(){var e=t.parseBlock(t.ifd0Offset,"ifd0");if(0!==e.size)return t.exifOffset=e.get(34665),t.interopOffset=e.get(40965),t.gpsOffset=e.get(34853),t.xmp=e.get(700),t.iptc=e.get(33723),t.icc=e.get(34675),t.options.sanitize&&(e.delete(34665),e.delete(40965),e.delete(34853),e.delete(700),e.delete(33723),e.delete(34675)),e})}catch(t){return Promise.reject(t)}}},{key:"parseExifBlock",value:function(){try{var t=this;if(t.exif)return;return We(function(){if(!t.ifd0)return Ve(t.parseIfd0Block())},function(){if(void 0!==t.exifOffset)return We(function(){if(t.file.tiff)return Ve(t.file.ensureChunk(t.exifOffset,I(t.options)))},function(){var e=t.parseBlock(t.exifOffset,"exif");return t.interopOffset||(t.interopOffset=e.get(40965)),t.makerNote=e.get(37500),t.userComment=e.get(37510),t.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),t.unpack(e,41728),t.unpack(e,41729),e})})}catch(t){return Promise.reject(t)}}},{key:"unpack",value:function(e,t){var n=e.get(t);n&&1===n.length&&e.set(t,n[0])}},{key:"parseGpsBlock",value:function(){try{var t=this;if(t.gps)return;return We(function(){if(!t.ifd0)return Ve(t.parseIfd0Block())},function(){if(void 0!==t.gpsOffset){var e=t.parseBlock(t.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Xe.apply(void 0,e.get(2).concat([e.get(1)]))),e.set("longitude",Xe.apply(void 0,e.get(4).concat([e.get(3)])))),e}})}catch(t){return Promise.reject(t)}}},{key:"parseInteropBlock",value:function(){try{var e=this;if(e.interop)return;return We(function(){if(!e.ifd0)return Ve(e.parseIfd0Block())},function(){return We(function(){if(void 0===e.interopOffset&&!e.exif)return Ve(e.parseExifBlock())},function(){if(void 0!==e.interopOffset)return e.parseBlock(e.interopOffset,"interop")})})}catch(e){return Promise.reject(e)}}},{key:"parseThumbnailBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t=this;if(t.ifd1||t.ifd1Parsed)return;if(t.options.mergeOutput&&!e)return;return t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,"ifd1"),t.ifd1Parsed=!0),t.ifd1}catch(e){return Promise.reject(e)}}},{key:"extractThumbnail",value:function(){try{var n=this;return n.headerParsed||n.parseHeader(),We(function(){if(!n.ifd1Parsed)return Ve(n.parseThumbnailBlock(!0))},function(){if(void 0!==n.ifd1){var e=n.ifd1.get(513),t=n.ifd1.get(514);return n.chunk.getUint8Array(e,t)}})}catch(n){return Promise.reject(n)}}},{key:"createOutput",value:function(){var e,t,n,r={},i=ae;Array.isArray(i)||("function"==typeof i.entries&&(i=i.entries()),i=b(i));for(var o=0;o<i.length;o++)if(!C(e=this[t=i[o]]))if(n=this.canTranslate?this.translateBlock(e,t):m(e),this.options.mergeOutput){if("ifd1"===t)continue;y(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}},{key:"assignToOutput",value:function(e,t){if(this.globalOptions.mergeOutput)y(e,t);else{var n=v(t);Array.isArray(n)||("function"==typeof n.entries&&(n=n.entries()),n=b(n));for(var r=0;r<n.length;r++){var i=n[r],o=i[0],a=i[1];this.assignObjectToOutput(e,o,a)}}}},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}}],[{key:"canHandle",value:function(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}}]),t}(function(e){function t(){return u(this,t),d(this,c(t).apply(this,arguments))}return i(t,e),a(t,[{key:"parseHeader",value:function(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A(),r=this.options[t],i=r.pick,o=r.skip,a=(i=P(i)).size>0,s=0===o.size,u=this.chunk.getUint16(e);e+=2;for(var l=0;l<u;l++){var c=this.chunk.getUint16(e);if(a){if(i.has(c)&&(n.set(c,this.parseTag(e,c,t)),i.delete(c),0===i.size))break}else!s&&o.has(c)||n.set(c,this.parseTag(e,c,t));e+=12}return n}},{key:"parseTag",value:function(e,t,n){var r,i=this.chunk,o=i.getUint16(e+2),a=i.getUint32(e+4),s=Ge[o];if(s*a<=4?e+=8:e=i.getUint32(e+8),(o<1||o>13)&&R("Invalid TIFF value type. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e)),e>i.byteLength&&R("Invalid TIFF value offset. block: ".concat(n.toUpperCase(),", tag: ").concat(t.toString(16),", type: ").concat(o,", offset ").concat(e," is outside of chunk size ").concat(i.byteLength)),1===o)return i.getUint8Array(e,a);if(2===o)return""===(r=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(r=i.getString(e,a)).trim())?void 0:r;if(7===o)return i.getUint8Array(e,a);if(1===a)return this.parseTagValue(o,e);for(var u=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(o))(a),l=s,c=0;c<a;c++)u[c]=this.parseTagValue(o,e),e+=l;return u}},{key:"parseTagValue",value:function(e,t){var n=this.chunk;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);case 13:return n.getUint32(t);default:R("Invalid tiff type ".concat(e))}}}]),t}(Te));function Xe(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}l(Ye,"type","tiff"),l(Ye,"headerLength",10),z.set("tiff",Ye);var $e=Object.freeze({__proto__:null,default:Oe,parse:Ee,Exifr:Ae,fileParsers:N,segmentParsers:z,fileReaders:q,tagKeys:ee,tagValues:te,tagRevivers:ne,createDictionary:Q,extendDictionary:Z,fetchUrlAsArrayBuffer:G,readBlobAsArrayBuffer:W,chunkedProps:re,otherSegments:ie,segments:oe,tiffBlocks:ae,segmentsAndBlocks:se,tiffExtractables:ue,inheritables:le,allFormatters:ce,Options:ge});function Ke(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Je(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(e){return Promise.reject(e)}}}var Qe=Je(function(e){var t=new Ae(it);return Ke(t.read(e),function(){return Ke(t.parse(),function(e){if(e&&e.ifd0)return e.ifd0[274]})})}),Ze=Je(function(e){var t=new Ae(rt);return Ke(t.read(e),function(){return Ke(t.parse(),function(e){if(e&&e.gps){var t=e.gps;return{latitude:t.latitude,longitude:t.longitude}}})})}),et=Je(function(e){return Ke(this.thumbnail(e),function(e){if(void 0!==e){var t=new Blob([e]);return URL.createObjectURL(t)}})}),tt=Je(function(e){var t=new Ae(ot);return Ke(t.read(e),function(){return Ke(t.extractThumbnail(),function(e){return e&&U?T.from(e):e})})}),nt={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},rt=y({},nt,{firstChunkSize:4e4,gps:[1,2,3,4]}),it=y({},nt,{firstChunkSize:4e4,ifd0:[274]}),ot=y({},nt,{tiff:!1,ifd1:!0,mergeOutput:!1}),at={1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}};if(t.rotateCanvas=!0,t.rotateCss=!0,"object"==typeof navigator){var st=navigator.userAgent;if(st.includes("iPad")||st.includes("iPhone")){var ut=st.match(/OS (\d+)_(\d+)/);if(ut){ut[0];var lt=ut[1],ct=ut[2],pt=Number(lt)+.1*Number(ct);t.rotateCanvas=pt<13.4,t.rotateCss=!1}}if(st.includes("Chrome/")){var ft=st.match(/Chrome\/(\d+)/),dt=(ft[0],ft[1]);Number(dt)>=81&&(t.rotateCanvas=t.rotateCss=!1)}else if(st.includes("Firefox/")){var ht=st.match(/Firefox\/(\d+)/),gt=(ht[0],ht[1]);Number(gt)>=77&&(t.rotateCanvas=t.rotateCss=!1)}}function vt(){}var yt=function(e){function o(){var e,t;u(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return l(f(t=d(this,(e=c(o)).call.apply(e,[this].concat(r)))),"ranges",new mt),0!==t.byteLength&&t.ranges.add(0,t.byteLength),t}return i(o,e),a(o,[{key:"_tryExtend",value:function(e,t,n){if(0===e&&0===this.byteLength&&n){var r=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(r)}else{var i=e+t;if(i>this.byteLength){var o=this._extend(i).dataView;this._swapDataView(o)}}}},{key:"_extend",value:function(e){var t;t=U?T.allocUnsafe(e):new Uint8Array(e);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}},{key:"subarray",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),h(c(o.prototype),"subarray",this).call(this,e,t)}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n&&this._tryExtend(t,e.byteLength,e);var r=h(c(o.prototype),"set",this).call(this,e,t);return this.ranges.add(t,r.byteLength),r}},{key:"ensureChunk",value:function(e,t){try{if(!this.chunked)return;if(this.ranges.available(e,t))return;return function(e,t){if(!t)return e&&e.then?e.then(vt):Promise.resolve()}(this.readChunk(e,t))}catch(e){return Promise.reject(e)}}},{key:"available",value:function(e,t){return this.ranges.available(e,t)}}]),o}(L),mt=function(){function e(){u(this,e),l(this,"list",[])}return a(e,[{key:"add",value:function(t,e){var n=t+e,r=this.list.filter(function(e){return bt(t,e.offset,n)||bt(t,e.end,n)});if(r.length>0){t=Math.min.apply(Math,[t].concat(r.map(function(e){return e.offset}))),e=(n=Math.max.apply(Math,[n].concat(r.map(function(e){return e.end}))))-t;var i=r.shift();i.offset=t,i.length=e,i.end=n,this.list=this.list.filter(function(e){return!r.includes(e)})}else this.list.push({offset:t,length:e,end:n})}},{key:"available",value:function(t,e){var n=t+e;return this.list.some(function(e){return e.offset<=t&&n<=e.end})}},{key:"length",get:function(){return this.list.length}}]),e}();function bt(e,t,n){return e<=t&&t<=n}function wt(){}function St(e,t){if(!t)return e&&e.then?e.then(wt):Promise.resolve()}function Pt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var At=function(e){function t(){return u(this,t),d(this,c(t).apply(this,arguments))}return i(t,e),a(t,[{key:"readWhole",value:function(){try{var t=this;return t.chunked=!1,Pt(W(t.input),function(e){t._swapArrayBuffer(e)})}catch(t){return Promise.reject(t)}}},{key:"readChunked",value:function(){return this.chunked=!0,this.size=this.input.size,h(c(t.prototype),"readChunked",this).call(this)}},{key:"_readChunk",value:function(t,e){try{var n=this,r=e?t+e:void 0,i=n.input.slice(t,r);return Pt(W(i),function(e){return n.set(e,t,!0)})}catch(t){return Promise.reject(t)}}}]),t}(function(e){function r(e,t){var n;return u(this,r),l(f(n=d(this,c(r).call(this,0))),"chunksRead",0),n.input=e,n.options=t,n}return i(r,e),a(r,[{key:"readWhole",value:function(){try{return this.chunked=!1,St(this.readChunk(this.nextChunkOffset))}catch(e){return Promise.reject(e)}}},{key:"readChunked",value:function(){try{return this.chunked=!0,St(this.readChunk(0,this.options.firstChunkSize))}catch(e){return Promise.reject(e)}}},{key:"readNextChunk",value:function(e){try{if(void 0===e&&(e=this.nextChunkOffset),this.fullyRead)return this.chunksRead++,!1;var t=this.options.chunkSize;return n=this.readChunk(e,t),r=function(e){return!!e&&e.byteLength===t},i?r?r(n):n:(n&&n.then||(n=Promise.resolve(n)),r?n.then(r):n)}catch(e){return Promise.reject(e)}var n,r,i}},{key:"readChunk",value:function(e,t){try{if(this.chunksRead++,0===(t=this.safeWrapAddress(e,t)))return;return this._readChunk(e,t)}catch(e){return Promise.reject(e)}}},{key:"safeWrapAddress",value:function(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}},{key:"read",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:"close",value:function(){}},{key:"nextChunkOffset",get:function(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}},{key:"canReadNextChunk",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:"fullyRead",get:function(){return void 0!==this.size&&this.nextChunkOffset===this.size}}]),r}(yt));q.set("blob",At),t.Exifr=Ae,t.Options=ge,t.allFormatters=ce,t.chunkedProps=re,t.createDictionary=Q,t.default=$e,t.disableAllOptions=nt,t.extendDictionary=Z,t.fetchUrlAsArrayBuffer=G,t.fileParsers=N,t.fileReaders=q,t.gps=Ze,t.gpsOnlyOptions=rt,t.inheritables=le,t.orientation=Qe,t.orientationOnlyOptions=it,t.otherSegments=ie,t.parse=Ee,t.readBlobAsArrayBuffer=W,t.rotation=function(e){return Ke(Qe(e),function(e){return y({canvas:t.rotateCanvas,css:t.rotateCss},at[e])})},t.rotations=at,t.segmentParsers=z,t.segments=oe,t.segmentsAndBlocks=se,t.tagKeys=ee,t.tagRevivers=ne,t.tagValues=te,t.thumbnail=tt,t.thumbnailOnlyOptions=ot,t.thumbnailUrl=et,t.tiffBlocks=ae,t.tiffExtractables=ue,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(14),n(198),n(199).Buffer)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,p=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&d())}function d(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,C,R){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var s=R(200),o=R(201),a=R(202);function n(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=p.prototype:(null===e&&(e=new p(t)),e.length=t),e}function p(e,t,n){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return i(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);p.TYPED_ARRAY_SUPPORT?(e=t).__proto__=p.prototype:e=c(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!p.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=u(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(p.isBuffer(t)){var n=0|f(t.length);return 0===(e=u(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?u(e,0):c(e,t);if("Buffer"===t.type&&a(t.data))return c(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function i(e,t){if(l(t),e=u(e,t<0?0:0|f(t)),!p.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|f(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function d(e,t){if(p.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return T(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return T(e).length;t=(""+t).toLowerCase(),r=!0}}function t(e,t,n){var r,i,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[o]);return i}(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return r=this,o=n,0===(i=t)&&o===r.length?s.fromByteArray(r):s.fromByteArray(r.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=p.from(t,r)),p.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,p.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var l=-1,c=n;c<a;c++)if(u(e,c)===u(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s)return l*o}else-1!==l&&(c-=c-l),l=-1;else for(a<n+s&&(n=a-s),c=n;0<=c;c--){for(var p=!0,f=0;f<s;f++)if(u(e,c+f)!==u(t,f)){p=!1;break}if(p)return c}return-1}function y(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return F(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,p=239<l?4:223<l?3:191<l?2:1;if(i+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(u=(15&l)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(c=u)}null===c?(c=65533,p=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=p}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=w));return n}(r)}C.Buffer=p,C.SlowBuffer=function(e){+e!=e&&(e=0);return p.alloc(+e)},C.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),C.kMaxLength=n(),p.poolSize=8192,p._augment=function(e){return e.__proto__=p.prototype,e},p.from=function(e,t,n){return r(null,e,t,n)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(e,t,n){return r=null,o=t,a=n,l(i=e),!(i<=0)&&void 0!==o?"string"==typeof a?u(r,i).fill(o,a):u(r,i).fill(o):u(r,i);var r,i,o,a},p.allocUnsafe=function(e){return i(null,e)},p.allocUnsafeSlow=function(e){return i(null,e)},p.isBuffer=function(e){return!(null==e||!e._isBuffer)},p.compare=function(e,t){if(!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return p.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=p.allocUnsafe(t),r=0,i=0;i<e.length;++i){var o=e[i];if(!p.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},p.byteLength=d,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},p.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},p.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},p.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?b(this,0,e):t.apply(this,arguments)},p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===p.compare(this,e)},p.prototype.inspect=function(){var e="",t=C.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},p.prototype.compare=function(e,t,n,r,i){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},p.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},p.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},p.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},p.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,u,l,c,p=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;(!r||i<(r=Number(r)))&&(r=i);var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}(this,e,t,n);case"utf8":case"utf-8":return l=t,c=n,F(T(e,(u=this).length-l),u,l,c);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return o=this,a=t,s=n,F(U(e),o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,e,t,n);default:if(p)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function E(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,i){return i||E(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function _(e,t,n,r,i){return i||E(e,0,n,8),o.write(e,t,n,r,52,8),n+8}p.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),p.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=p.prototype;else for(var r=t-e,i=new p(r,void 0),o=0;o<r;++o)i[o]=this[o+e];return i},p.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},p.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},p.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},p.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},p.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},p.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},p.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},p.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},p.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},p.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},p.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},p.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},p.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),o.read(this,e,!0,23,4)},p.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),o.read(this,e,!1,23,4)},p.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),o.read(this,e,!0,52,8)},p.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),o.read(this,e,!1,52,8)},p.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},p.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},p.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},p.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},p.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},p.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},p.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},p.prototype.writeIntLE=function(e,t,n,r){var i;e=+e,t|=0,r||P(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},p.prototype.writeIntBE=function(e,t,n,r){var i;e=+e,t|=0,r||P(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},p.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},p.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},p.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},p.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},p.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},p.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},p.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},p.prototype.writeDoubleLE=function(e,t,n){return _(this,e,t,!0,n)},p.prototype.writeDoubleBE=function(e,t,n){return _(this,e,t,!1,n)},p.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!p.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},p.prototype.fill=function(e,t,n,r){if("string"==typeof e){var i;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==e.length||(i=e.charCodeAt(0))<256&&(e=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!p.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var o=p.isBuffer(e)?e:T(new p(e,r).toString()),a=o.length,s=0;s<n-t;++s)this[s+t]=o[s%a];return this};var x=/[^+\/0-9A-Za-z-_]/g;function T(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return s.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,R(14))},function(e,t,n){"use strict";t.byteLength=function(e){var t=p(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=p(e),r=n[0],i=n[1],o=new c(function(e,t){return 3*(e+t)/4-t}(r,i)),a=0,s=0<i?r-4:r,u=0;u<s;u+=4)t=l[e.charCodeAt(u)]<<18|l[e.charCodeAt(u+1)]<<12|l[e.charCodeAt(u+2)]<<6|l[e.charCodeAt(u+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;2===i&&(t=l[e.charCodeAt(u)]<<2|l[e.charCodeAt(u+1)]>>4,o[a++]=255&t);1===i&&(t=l[e.charCodeAt(u)]<<10|l[e.charCodeAt(u+1)]<<4|l[e.charCodeAt(u+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(function(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}(r));return i.join("")}(e,o,a<o+16383?a:o+16383));1==r?(t=e[n-1],i.push(s[t>>2]+s[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return i.join("")};for(var s=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)s[i]=r[i],l[r.charCodeAt(i)]=i;function p(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?i-1:0,f=n?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;0<c;o=256*o+e[t+p],p+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+e[t+p],p+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(t+=1<=a+p?f/u:f*Math.pow(2,1-p))*u&&(a++,u/=2),c<=a+p?(s=0,a=c):1<=a+p?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));8<=i;e[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;e[n+d]=255&a,d+=h,a/=256,l-=8);e[n+d-h]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(89);e.exports=function(e){if("string"==typeof e){var t=[].slice.call(document.querySelectorAll(e));return 0<t.length?t:null}if("object"==typeof e&&r(e))return[e]}},function(e,t,n){var i=n(205),o=n(208);e.exports=function(e,t){var n=(void 0===t?{}:t).logDropError,r=void 0===n?function(){}:n;return e.items&&e.items[0]&&"webkitGetAsEntry"in e.items[0]?i(e,r):o(e)}},function(e,t,n){var r=n(32),a=n(206),s=n(207);e.exports=function(e,i){var o=[],n=[];return r(e.items).forEach(function(e){var t=e.webkitGetAsEntry();t&&n.push(function r(t){return new Promise(function(n){var e;t.isFile?t.file(function(e){e.relativePath=a(t),o.push(e),n()},function(e){i(e),n()}):t.isDirectory&&(e=t.createReader(),s(e,[],i,{onSuccess:function(e){var t=e.map(r);Promise.all(t).then(function(){return n()})}}))})}(t))}),Promise.all(n).then(function(){return o})}},function(e,t){e.exports=function(e){return e.fullPath&&e.fullPath!=="/"+e.name?e.fullPath:null}},function(e,t){e.exports=function n(r,i,o,e){var a=e.onSuccess;r.readEntries(function(e){var t=[].concat(i,e);e.length?setTimeout(function(){n(r,t,o,{onSuccess:a})},0):a(t)},function(e){o(e),a(i)})}},function(e,t,n){var r=n(32);e.exports=function(e){var t=r(e.files);return Promise.resolve(t)}},function(e,t,n){var l=n(32),c=n(96),p=n(97);function f(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function r(e,t,n){var r,i,o,a=c(n,t),s=l(a.querySelectorAll(p)),u=s.indexOf(document.activeElement);a.contains(document.activeElement)?e.shiftKey&&0===u?(r=e,(o=(i=s)[i.length-1])&&(o.focus(),r.preventDefault())):e.shiftKey||u!==s.length-1||f(e,s):f(e,s)}e.exports={forModal:function(e,t,n){r(e,t,n)},forInline:function(e,t,n){null===t||r(e,t,n)}}},function(e,t,n){var r=n(211),s=n(97),u=n(96);e.exports=function(){var a=!1;return r(function(e,t){var n,r,i=u(e,t),o=i.contains(document.activeElement);o&&a||(n=i.querySelector("[data-uppy-super-focusable]"),o&&!n||(a=n?(n.focus({preventScroll:!0}),!0):((r=i.querySelector(s))&&r.focus({preventScroll:!0}),!1)))},260)}},function(i,e,t){(function(e){function m(){return r.Date.now()}var o=NaN,a="[object Symbol]",s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,r=t||n||Function("return this")(),f=Object.prototype.toString,b=Math.max,w=Math.min;function S(e){var t=typeof e;return e&&("object"==t||"function"==t)}function P(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||!!(n=t)&&"object"==typeof n&&f.call(t)==a)return o;var t,n,r;if(S(e)&&(e=S(r="function"==typeof e.valueOf?e.valueOf():e)?r+"":r),"string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=l.test(e);return i||c.test(e)?p(e.slice(2),i?2:8):u.test(e)?o:+e}i.exports=function(r,i,e){var o,a,s,u,l,c,p=0,f=!1,d=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function h(e){var t=o,n=a;return o=a=void 0,p=e,u=r.apply(n,t)}function g(e){var t=e-c;return void 0===c||i<=t||t<0||d&&s<=e-p}function v(){var e,t,n=m();if(g(n))return y(n);l=setTimeout(v,(t=i-((e=n)-c),d?w(t,s-(e-p)):t))}function y(e){return l=void 0,t&&o?h(e):(o=a=void 0,u)}function n(){var e,t=m(),n=g(t);if(o=arguments,a=this,c=t,n){if(void 0===l)return p=e=c,l=setTimeout(v,i),f?h(e):u;if(d)return l=setTimeout(v,i),h(c)}return void 0===l&&(l=setTimeout(v,i)),u}return i=P(i)||0,S(e)&&(f=!!e.leading,d="maxWait"in e,s=d?b(P(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==l&&clearTimeout(l),o=c=a=l=void(p=0)},n.flush=function(){return void 0===l?u:y(m())},n}}).call(this,t(14))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(81),p=n(5),f=n(17),i=n(20),d=n(82),h=n(83);r("match",1,function(r,l,c){return[function(e){var t=i(this),n=null==e?void 0:e[r];return void 0!==n?n.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=c(l,e,this);if(t.done)return t.value;var n=p(e),r=String(this);if(!n.global)return h(n,r);for(var i,o=n.unicode,a=[],s=n.lastIndex=0;null!==(i=h(n,r));){var u=String(i[0]);""===(a[s]=u)&&(n.lastIndex=d(r,f(n.lastIndex),o)),s++}return 0===s?null:a}]})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(100),n(109),n(110),n(72),n(50),n(118),n(79),n(123),n(51),n(126),n(52),n(127),n(130),n(132),n(214);function d(){this.init=function(){},this.files={},this.prefix="dfufile",this.getFileIndentifier=function(e){var t=new Date;return e+"_"+Math.random()+"_"+t.getTime()},this.getFieldName=function(e,t){return e.getAttribute("data-name")+"["+t+"]"},this.getClosest=function(t,n){try{return t.closest(n)}catch(e){if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}},this.getForm=function(e){return this.getClosest(e,"form")},this.removeField=function(e,t){var n=this.getForm(e);if(!n)return!1;var r=this.getFieldName(e,t),i=n.elements[r];i&&(oldField=n.removeChild(i))},this.appendField=function(e,t,n){try{var r=this.getForm(e);if(!r)throw"cannot find form for element";var i=this.getFieldName(e,t),o=r.elements[i];return o?o.value=n:((o=document.createElement("input")).type="hidden",o.value=n,o.name=i,o.classList.add("dfu_uploaded_file"),r.appendChild(o)),o}catch(e){return console.error(e),!1}},this.getFile=function(e,t){return void 0===this.files[e.id]?(this.files[e.id]=[],this.files[e.id][t]={}):void 0===this.files[e.id][t]&&(this.files[e.id][t]={}),this.files[e.id][t]},this.handleComplete=function(e,t,n,r,i){if(r&&"newUuid"in r)return this.getFile(e,t).uuid=r.newUuid,this.appendField(e,t,r.newUuid)},this.handleDeleteComplete=function(e,t,n){return this.removeField(e,t),!0},this.handleAllComplete=function(e,t,n){0==n.length||0==t.length?this.handleUnblock(e):this.handleSubmit(e)},this.handleCancel=function(e,t,n,r,i){var o=i.getUploads({status:t.status.UPLOADING});o&&0==o.length&&this.handleUnblock(e)},this.handleUnblock=function(e){var t=this.getForm(e);t&&(this.toggleSubmitButtons(t,!1),t.onsubmit=function(){return!0})},this.handleError=function(e,t,n,r,i,o){this.getForm(e)&&this.handleUnblock(e)},this.handleSubmit=function(e){var t=this.getForm(e);t&&(this.toggleSubmitButtons(t,!0),t.onsubmit=function(){return!1})},this.toggleSubmitButtons=function(e,t){var n=e.querySelectorAll('[type="submit"]');if(n)for(var r=0,i=Array.from(n);r<i.length;r++){var o=i[r];t&&!o.disabled?(o.setAttribute("disabled","disabled"),o.dataset.uploadsPending&&("BUTTON"==o.nodeName?(o.dataset.uploadsNotPending=o.textContent,o.textContent=o.dataset.uploadsPending):(o.dataset.uploadsNotPending=o.value,o.value=o.dataset.uploadsPending))):!t&&o.disabled&&(o.removeAttribute("disabled"),o.dataset.uploadsNotPending&&("BUTTON"==o.nodeName?o.textContent=o.dataset.uploadsNotPending:o.value=o.dataset.uploadsNotPending))}},this.handleStatusChange=function(e,t,n,r,i){switch(this.getFile(e,n).status=i){case t.status.UPLOAD_SUCCESSFUL:case t.status.SUBMITTED:case t.status.QUEUED:case t.status.UPLOADING:case t.status.UPLOAD_RETRYING:case t.status.DELETING:case t.status.DELETE_FAILED:case t.status.PAUSED:break;case t.status.UPLOAD_FAILED:case t.status.CANCELED:case t.status.REJECTED:case t.status.DELETED:this.removeField(e,n)}},this.removeButton=function(n,e,r,i){var o=this,t=document.createElement("button");return t.type="button",t.setAttribute("class","remove"),t.setAttribute("data-id",e),t.id=n.id+"-remove-"+e,t.textContent="remove",t.onclick=function(e){var t=this.getAttribute("data-id");return r&&r.cancel(t),o.removeField(n,t),i&&"function"==typeof i&&i(this),!1},t},this.deleteButton=function(e,t,n){var r=document.createElement("button");return r.type="button",r.setAttribute("class","delete"),r.setAttribute("data-id",t),r.textContent="delete",r.onclick=function(e){var t=this.getAttribute("data-id");return n&&t&&n.deleteFile(t),!1},r},this.getFileElement=function(e,t){return document.getElementById(e.id+"-upload-"+t)},this.isImage=function(e){return null!=e.match(/^image\//)}}n(215);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=n(18),v=n(152),y=n(167),m=n(94);n(212),n(213);var r=Array.from(document.getElementsByClassName("dfu-uploader-uppy"));if(r){var i,o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{!function(o){var a=new d;a.init();var s=JSON.parse(o.dataset.config),e=o.id,t={};"object"==h(s.request.params)&&(t=s.request.params);var n=s.validation.sizeLimit?s.validation.sizeLimit:null,r=s.validation.itemLimit?s.validation.itemLimit:null,i=s.validation.acceptFiles?s.validation.acceptFiles.split(","):["image/*"],u=s.validation.image.maxWidth?s.validation.image.maxWidth:0,l=s.validation.image.maxHeight?s.validation.image.maxHeight:0,c=s.validation.image.minWidth?s.validation.image.minWidth:0,p=s.validation.image.minHeight?s.validation.image.minHeight:0,f=g({id:"uppy-"+e,autoProceed:!1,allowMultipleUploads:!0,debug:!1,meta:t,restrictions:{maxFileSize:n,maxNumberOfFiles:r,minNumberOfFiles:null,allowedFileTypes:i}}).use(y,{id:"dashboard-"+e,target:o.querySelector(".dashboard"),inline:!0,width:"100%",waitForThumbnailsBeforeUpload:!0,showLinkToFileUploadResult:!1,proudlyDisplayPoweredByUppy:!1,showProgressDetails:!0,replaceTargetContent:!0,note:"",doneButtonHandler:null}).use(v,{method:"post",formData:!0,bundle:!1,fieldName:o.dataset.name,endpoint:s.request.endpoint}).use(m,{doneButtonHandler:null});f.on("upload-success",function(e,t){t.body.uuid&&a.appendField(o,e.id,t.body.uuid)}),f.on("upload-error",function(e,t){a.removeField(o,e.id)}),f.on("error",function(e){a.handleUnblock(o)}),f.on("complete",function(e){a.handleUnblock(o)}),f.on("cancel-all",function(e){a.handleUnblock(o)}),f.on("file-removed",function(e,t){0==f.getFiles().length&&a.handleUnblock(o)}),f.on("file-added",function(n){a.handleSubmit(o);var e,r,i,t={};t[s.request.uuidName]=n.id,f.setFileMeta(n.id,t),a.isImage(n.data.type)&&(e=n.data,r=URL.createObjectURL(e),(i=new Image).src=r,i.onload=function(){var e=!1,t="";0<u&&i.width>u?(t=s.messages.maxWidthImageError,e=!0):0<l&&i.height>l?(t=s.messages.maxHeightImageError,e=!0):0<c&&i.width<c?(t=s.messages.minWidthImageError,e=!0):0<p&&i.height<p&&(t=s.messages.minHeightImageError,e=!0),e&&(t=t||"The image does not match the allowed dimensions",f.removeFile(n.id),f.info({message:t,type:"error",duration:7500}),URL.revokeObjectURL(r))})})}(a)}catch(e){console.error(e)}}}catch(e){o.e(e)}finally{o.f()}}}]);